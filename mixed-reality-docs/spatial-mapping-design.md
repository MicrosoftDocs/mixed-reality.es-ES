---
title: Diseño de asignación espacial
description: El uso eficaz de la asignación espacial en HoloLens requiere una consideración cuidadosa de muchos factores.
author: cre8ivepark
ms.author: dongpark
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality, diseño, asignación espacial, HoloLens, reconstrucción superficial, malla
ms.openlocfilehash: 02e64727f9a23bea28e018d7c4e5a8b89c152447
ms.sourcegitcommit: 60f73ca23023c17c1da833c83d2a02f4dcc4d17b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2019
ms.locfileid: "69566010"
---
# <a name="spatial-mapping-design"></a><span data-ttu-id="346cc-104">Diseño de asignación espacial</span><span class="sxs-lookup"><span data-stu-id="346cc-104">Spatial mapping design</span></span>

<span data-ttu-id="346cc-105">El uso eficaz de la asignación espacial en HoloLens requiere una consideración cuidadosa de muchos factores.</span><span class="sxs-lookup"><span data-stu-id="346cc-105">Effective use of spatial mapping within HoloLens requires careful consideration of many factors.</span></span>

## <a name="device-support"></a><span data-ttu-id="346cc-106">Compatibilidad con dispositivos</span><span class="sxs-lookup"><span data-stu-id="346cc-106">Device support</span></span>

<table>
    <colgroup>
    <col width="33%" />
    <col width="33%" />
    <col width="33%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="346cc-107"><strong>Característica</strong></span><span class="sxs-lookup"><span data-stu-id="346cc-107"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="346cc-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span><span class="sxs-lookup"><span data-stu-id="346cc-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span></span></td>
        <td><span data-ttu-id="346cc-109"><a href="immersive-headset-hardware-details.md"><strong>Cascos envolventes</strong></a></span><span class="sxs-lookup"><span data-stu-id="346cc-109"><a href="immersive-headset-hardware-details.md"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="346cc-110">Diseño de asignación espacial</span><span class="sxs-lookup"><span data-stu-id="346cc-110">Spatial mapping design</span></span></td>
        <td><span data-ttu-id="346cc-111">✔️</span><span class="sxs-lookup"><span data-stu-id="346cc-111">✔️</span></span></td>
        <td><span data-ttu-id="346cc-112">❌</span><span class="sxs-lookup"><span data-stu-id="346cc-112">❌</span></span></td>
    </tr>
</table>

## <a name="why-is-spatial-mapping-important"></a><span data-ttu-id="346cc-113">¿Por qué es importante la asignación espacial?</span><span class="sxs-lookup"><span data-stu-id="346cc-113">Why is spatial mapping important?</span></span>

<span data-ttu-id="346cc-114">La asignación espacial permite colocar objetos en superficies reales.</span><span class="sxs-lookup"><span data-stu-id="346cc-114">Spatial mapping makes it possible to place objects on real surfaces.</span></span> <span data-ttu-id="346cc-115">Esto ayuda a anclar objetos en el mundo del usuario y saca partido de las pilas reales del mundo. Occluding los hologramas basados en otros hologramas y los objetos del mundo real ayudan a convencer al usuario de que estos hologramas están realmente en su espacio.</span><span class="sxs-lookup"><span data-stu-id="346cc-115">This helps anchor objects in the user's world and takes advantage of real world depth cues. Occluding your holograms based on other holograms and real world objects helps convince the user that these holograms are actually in their space.</span></span> <span data-ttu-id="346cc-116">Los hologramas flotan en el espacio o se mueven con el usuario no se verán como reales.</span><span class="sxs-lookup"><span data-stu-id="346cc-116">Holograms floating in space or moving with the user will not feel as real.</span></span> <span data-ttu-id="346cc-117">Cuando sea posible, coloque los elementos para mayor comodidad.</span><span class="sxs-lookup"><span data-stu-id="346cc-117">When possible, place items for comfort.</span></span>

<span data-ttu-id="346cc-118">Visualizar las superficies al colocar o mover hologramas (usar una cuadrícula proyectada simple).</span><span class="sxs-lookup"><span data-stu-id="346cc-118">Visualize surfaces when placing or moving holograms (use a simple projected grid).</span></span> <span data-ttu-id="346cc-119">Esto le ayudará al usuario a saber dónde pueden colocar mejor sus hologramas y muestra al usuario si el lugar en el que intentan colocar el holograma todavía no se ha asignado.</span><span class="sxs-lookup"><span data-stu-id="346cc-119">This will help the user know where they can best place their holograms, and shows the user if the spot they are trying to place the hologram hasn't been mapped yet.</span></span> <span data-ttu-id="346cc-120">Puede "elementos de la cartelera" hacia el usuario si acaba en demasiados de un ángulo.</span><span class="sxs-lookup"><span data-stu-id="346cc-120">You can "billboard items" toward the user if they end up at too much of an angle.</span></span>

## <a name="what-influences-spatial-mapping-quality"></a><span data-ttu-id="346cc-121">¿Qué influye en la calidad de la asignación espacial?</span><span class="sxs-lookup"><span data-stu-id="346cc-121">What influences spatial mapping quality?</span></span>

<span data-ttu-id="346cc-122">Algunos factores, detallados [aquí](environment-considerations-for-hololens.md), pueden afectar a la frecuencia y la gravedad de estos errores.</span><span class="sxs-lookup"><span data-stu-id="346cc-122">Several factors, detailed [here](environment-considerations-for-hololens.md), can affect the frequency and severity of these errors.</span></span>  <span data-ttu-id="346cc-123">Sin embargo, debe diseñar la aplicación para que el usuario pueda alcanzar sus objetivos incluso en presencia de errores en los datos de asignación espacial.</span><span class="sxs-lookup"><span data-stu-id="346cc-123">However, you should design your application so that the user is able to achieve their goals even in the presence of errors in the spatial mapping data.</span></span>

## <a name="the-environment-scanning-experience"></a><span data-ttu-id="346cc-124">La experiencia de análisis del entorno</span><span class="sxs-lookup"><span data-stu-id="346cc-124">The environment scanning experience</span></span>

<span data-ttu-id="346cc-125">Cada aplicación que utiliza la asignación espacial debe considerar la posibilidad de proporcionar una experiencia de exploración. el proceso a través del cual la aplicación guía al usuario para que examine las superficies necesarias para que la aplicación funcione correctamente.</span><span class="sxs-lookup"><span data-stu-id="346cc-125">Each application that uses spatial mapping should consider providing a 'scanning experience'; the process through which the application guides the user to scan surfaces that are necessary for the application to function correctly.</span></span>

<span data-ttu-id="346cc-126">![Ejemplo de análisis](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="346cc-126">![Example of scanning](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span></span><br>
<span data-ttu-id="346cc-127">*Ejemplo de análisis*</span><span class="sxs-lookup"><span data-stu-id="346cc-127">*Example of scanning*</span></span>

<span data-ttu-id="346cc-128">La naturaleza de esta experiencia de análisis puede variar en gran medida en función de las necesidades de cada aplicación, pero dos principios principales deben guiar su diseño.</span><span class="sxs-lookup"><span data-stu-id="346cc-128">The nature of this scanning experience can vary greatly depending upon each application's needs, but two main principles should guide its design.</span></span>

<span data-ttu-id="346cc-129">En primer lugar, **la comunicación clara con el usuario es la principal preocupación**.</span><span class="sxs-lookup"><span data-stu-id="346cc-129">Firstly, **clear communication with the user is the primary concern**.</span></span> <span data-ttu-id="346cc-130">El usuario siempre debe tener en cuenta si se cumplen los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="346cc-130">The user should always be aware of whether the application's requirements are being met.</span></span> <span data-ttu-id="346cc-131">Cuando no se cumplan, se debe aclarar inmediatamente al usuario por qué es así y se debe llevar a cabo rápidamente para realizar la acción adecuada.</span><span class="sxs-lookup"><span data-stu-id="346cc-131">When they are not being met, it should be immediately clear to the user why this is so and they should be quickly led to take the appropriate action.</span></span>

<span data-ttu-id="346cc-132">En segundo lugar, **las aplicaciones deben intentar lograr un equilibrio entre la eficacia y la confiabilidad**.</span><span class="sxs-lookup"><span data-stu-id="346cc-132">Secondly, **applications should attempt to strike a balance between efficiency and reliability**.</span></span> <span data-ttu-id="346cc-133">Cuando sea posible hacerlo de manera **confiable**, las aplicaciones deben analizar automáticamente los datos de asignación espacial para ahorrar tiempo al usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-133">When it is possible to do so **reliably**, applications should automatically analyze spatial mapping data to save the user time.</span></span> <span data-ttu-id="346cc-134">Cuando no es posible hacerlo de manera confiable, las aplicaciones deben permitir que el usuario proporcione rápidamente la aplicación con la información adicional que requiere.</span><span class="sxs-lookup"><span data-stu-id="346cc-134">When it is not possible to do so reliably, applications should instead enable the user to quickly provide the application with the additional information it requires.</span></span>

<span data-ttu-id="346cc-135">Para ayudar a diseñar la experiencia de examen adecuada, tenga en cuenta cuál de las siguientes posibilidades es aplicable a su aplicación:</span><span class="sxs-lookup"><span data-stu-id="346cc-135">To help design the right scanning experience, consider which of the following possibilities are applicable to your application:</span></span>

* <span data-ttu-id="346cc-136">**Sin experiencia de exploración**</span><span class="sxs-lookup"><span data-stu-id="346cc-136">**No scanning experience**</span></span>
   * <span data-ttu-id="346cc-137">Una aplicación puede funcionar perfectamente sin ninguna experiencia de exploración guiada; obtendrá información sobre las superficies observadas en el transcurso del movimiento natural de usuarios.</span><span class="sxs-lookup"><span data-stu-id="346cc-137">An application may function perfectly without any guided scanning experience; it will learn about surfaces that are observed in the course of natural user movement.</span></span>
   * <span data-ttu-id="346cc-138">Por ejemplo, una aplicación que permite que el usuario dibuje en superficies con Paint pulverizado solo requiere conocimiento de las superficies visibles actualmente para el usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-138">For example an application that lets the user draw on surfaces with holographic spray paint requires knowledge only of the surfaces currently visible to the user.</span></span>
   * <span data-ttu-id="346cc-139">El entorno se puede examinar por completo ya si es uno en el que el usuario ya ha pasado mucho tiempo mediante HoloLens.</span><span class="sxs-lookup"><span data-stu-id="346cc-139">The environment may be completely scanned already if it is one in which the user has already spent a lot of time using the HoloLens.</span></span>
   * <span data-ttu-id="346cc-140">Sin embargo, tenga en cuenta que la cámara usada por la asignación espacial solo puede ver 3.1 m delante del usuario, por lo que la asignación espacial no conocerá las superficies más lejanas a menos que el usuario las haya observado desde una distancia más cercana en el pasado.</span><span class="sxs-lookup"><span data-stu-id="346cc-140">Bear in mind however that the camera used by spatial mapping can only see 3.1m in front of the user, so spatial mapping will not know about any more distant surfaces unless the user has observed them from a closer distance in the past.</span></span>
   * <span data-ttu-id="346cc-141">Por lo tanto, el usuario entiende qué superficies se han examinado, la aplicación debe proporcionar comentarios visuales a este efecto; por ejemplo, la conversión de sombras virtuales en superficies digitalizadas puede ayudar al usuario a colocar hologramas en esas superficies.</span><span class="sxs-lookup"><span data-stu-id="346cc-141">So the user understands which surfaces have been scanned, the application should provide visual feedback to this effect, for example casting virtual shadows onto scanned surfaces may help the user place holograms on those surfaces.</span></span>
   * <span data-ttu-id="346cc-142">En este caso, los volúmenes de límite del observador de la superficie espacial deben actualizarse cada fotograma a un [sistema de coordenadas espaciales](coordinate-systems.md)bloqueado por el cuerpo para que sigan el usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-142">For this case, the spatial surface observer's bounding volumes should be updated each frame to a body-locked [spatial coordinate system](coordinate-systems.md), so that they follow the user.</span></span>

* <span data-ttu-id="346cc-143">**Buscar una ubicación adecuada**</span><span class="sxs-lookup"><span data-stu-id="346cc-143">**Find a suitable location**</span></span>
   * <span data-ttu-id="346cc-144">Una aplicación puede estar diseñada para su uso en una ubicación con requisitos específicos.</span><span class="sxs-lookup"><span data-stu-id="346cc-144">An application may be designed for use in a location with specific requirements.</span></span>
   * <span data-ttu-id="346cc-145">Por ejemplo, la aplicación puede requerir un área vacía alrededor del usuario para que pueda practicar con seguridad Holographic Kung.</span><span class="sxs-lookup"><span data-stu-id="346cc-145">For example, the application may require an empty area around the user so they can safely practice holographic kung-fu.</span></span>
   * <span data-ttu-id="346cc-146">Las aplicaciones deben comunicar cualquier requisito específico al usuario por adelantado y reforzarlos con comentarios visuales claros.</span><span class="sxs-lookup"><span data-stu-id="346cc-146">Applications should communicate any specific requirements to the user up-front, and reinforce them with clear visual feedback.</span></span>
   * <span data-ttu-id="346cc-147">En este ejemplo, la aplicación debe visualizar el alcance del área vacía necesaria y resaltar visualmente la presencia de cualquier objeto no deseado dentro de esta zona.</span><span class="sxs-lookup"><span data-stu-id="346cc-147">In this example, the application should visualize the extent of the required empty area and visually highlight the presence of any undesired objects within this zone.</span></span>
   * <span data-ttu-id="346cc-148">En este caso, los volúmenes de límite del observador de superficie espacial deben usar un sistema de [coordenadas espaciales](coordinate-systems.md) de bloque mundial en la ubicación elegida.</span><span class="sxs-lookup"><span data-stu-id="346cc-148">For this case, the spatial surface observer's bounding volumes should use a world-locked [spatial coordinate system](coordinate-systems.md) in the chosen location.</span></span>

* <span data-ttu-id="346cc-149">**Buscar una configuración adecuada de surfaces**</span><span class="sxs-lookup"><span data-stu-id="346cc-149">**Find a suitable configuration of surfaces**</span></span>
   * <span data-ttu-id="346cc-150">Una aplicación puede requerir una configuración específica de superficies, por ejemplo dos paredes grandes, planas y opuestas para crear un salón de reflejos.</span><span class="sxs-lookup"><span data-stu-id="346cc-150">An application may require a specific configuration of surfaces, for example two large, flat, opposing walls to create a holographic hall of mirrors.</span></span>
   * <span data-ttu-id="346cc-151">En tales casos, la aplicación tendrá que analizar las superficies proporcionadas por la asignación espacial para detectar las superficies adecuadas y dirigir al usuario hacia ellas.</span><span class="sxs-lookup"><span data-stu-id="346cc-151">In such cases the application will need to analyze the surfaces provided by spatial mapping to detect suitable surfaces, and direct the user toward them.</span></span>
   * <span data-ttu-id="346cc-152">El usuario debe tener una opción de reserva si el análisis de la superficie de la aplicación no es totalmente confiable.</span><span class="sxs-lookup"><span data-stu-id="346cc-152">The user should have a fallback option if the application's surface analysis is not completely reliable.</span></span> <span data-ttu-id="346cc-153">Por ejemplo, si la aplicación identifica incorrectamente una puerta como una pared plana, el usuario necesita una forma sencilla de corregir este error.</span><span class="sxs-lookup"><span data-stu-id="346cc-153">For example, if the application incorrectly identifies a doorway as a flat wall, the user needs a simple way to correct this error.</span></span>

* <span data-ttu-id="346cc-154">**Examinar parte del entorno**</span><span class="sxs-lookup"><span data-stu-id="346cc-154">**Scan part of the environment**</span></span>
   * <span data-ttu-id="346cc-155">Una aplicación puede querer capturar solo parte del entorno, tal como la dirige el usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-155">An application may wish to only capture part of the environment, as directed by the user.</span></span>
   * <span data-ttu-id="346cc-156">Por ejemplo, la aplicación examina parte de una habitación para que el usuario pueda publicar un anuncio de la clasificación holográfica para el mobiliario que desea vender.</span><span class="sxs-lookup"><span data-stu-id="346cc-156">For example, the application scans part of a room so the user may post a holographic classified ad for furniture they wish to sell.</span></span>
   * <span data-ttu-id="346cc-157">En este caso, la aplicación debe capturar los datos de asignación espacial dentro de las regiones observadas por el usuario durante el examen.</span><span class="sxs-lookup"><span data-stu-id="346cc-157">In this case, the application should capture spatial mapping data within the regions observed by the user during their scan.</span></span>

* <span data-ttu-id="346cc-158">**Examinar toda la habitación**</span><span class="sxs-lookup"><span data-stu-id="346cc-158">**Scan the whole room**</span></span>
   * <span data-ttu-id="346cc-159">Una aplicación puede requerir un examen de todas las superficies de la habitación actual, incluidas las que están detrás del usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-159">An application may require a scan of all of the surfaces in the current room, including those behind the user.</span></span>
   * <span data-ttu-id="346cc-160">Por ejemplo, un juego puede poner al usuario en el rol de Gulliver, en Siege desde cientos de pequeñas Lilliputianss que se aproximan desde todas las direcciones.</span><span class="sxs-lookup"><span data-stu-id="346cc-160">For example, a game may put the user in the role of Gulliver, under siege from hundreds of tiny Lilliputians approaching from all directions.</span></span>
   * <span data-ttu-id="346cc-161">En tales casos, la aplicación necesitará determinar cuántas de las superficies de la habitación actual ya se han analizado y dirigir la mirada del usuario para rellenar los huecos significativos.</span><span class="sxs-lookup"><span data-stu-id="346cc-161">In such cases, the application will need to determine how many of the surfaces in the current room have already been scanned, and direct the user's gaze to fill in significant gaps.</span></span>
   * <span data-ttu-id="346cc-162">La clave de este proceso consiste en proporcionar comentarios visuales que le permitan aclarar al usuario qué superficies todavía no se han analizado.</span><span class="sxs-lookup"><span data-stu-id="346cc-162">The key to this process is providing visual feedback that makes it clear to the user which surfaces have not yet been scanned.</span></span> <span data-ttu-id="346cc-163">Por ejemplo, la aplicación podría usar la [niebla basada en distancia](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) para resaltar visualmente las regiones que no están tratadas por superficies de asignación espacial.</span><span class="sxs-lookup"><span data-stu-id="346cc-163">The application could for example use [distance-based fog](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) to visually highlight regions that are not covered by spatial mapping surfaces.</span></span>

* <span data-ttu-id="346cc-164">**Tomar una instantánea inicial del entorno**</span><span class="sxs-lookup"><span data-stu-id="346cc-164">**Take an initial snapshot of the environment**</span></span>
   * <span data-ttu-id="346cc-165">Una aplicación puede querer omitir todos los cambios en el entorno después de tomar una "instantánea" inicial.</span><span class="sxs-lookup"><span data-stu-id="346cc-165">An application may wish to ignore all changes in the environment after taking an initial 'snapshot'.</span></span>
   * <span data-ttu-id="346cc-166">Esto puede ser adecuado para evitar la interrupción de los datos creados por el usuario que están estrechamente acoplados al estado inicial del entorno.</span><span class="sxs-lookup"><span data-stu-id="346cc-166">This may be appropriate to avoid disruption of user-created data that is tightly coupled to the initial state of the environment.</span></span>
   * <span data-ttu-id="346cc-167">En este caso, la aplicación debe realizar una copia de los datos de asignación espacial en su estado inicial una vez completado el examen.</span><span class="sxs-lookup"><span data-stu-id="346cc-167">In this case, the application should make a copy of the spatial mapping data in its initial state once the scan is complete.</span></span>
   * <span data-ttu-id="346cc-168">Las aplicaciones deben seguir recibiendo actualizaciones de los datos de asignación espacial si el entorno sigue ocluidos correctamente.</span><span class="sxs-lookup"><span data-stu-id="346cc-168">Applications should continue receiving updates to spatial mapping data if holograms are still to be correctly occluded by the environment.</span></span>
   * <span data-ttu-id="346cc-169">Las actualizaciones continuas de los datos de asignación espacial también permiten visualizar cualquier cambio que se haya producido, con lo que se aclara al usuario las diferencias entre los Estados anterior y actual del entorno.</span><span class="sxs-lookup"><span data-stu-id="346cc-169">Continued updates to spatial mapping data also allow visualizing any changes that have occurred, clarifying to the user the differences between prior and present states of the environment.</span></span>

* <span data-ttu-id="346cc-170">**Realizar instantáneas iniciadas por el usuario del entorno**</span><span class="sxs-lookup"><span data-stu-id="346cc-170">**Take user-initiated snapshots of the environment**</span></span>
   * <span data-ttu-id="346cc-171">Una aplicación solo puede querer responder a los cambios del entorno cuando lo indique el usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-171">An application may only wish to respond to environmental changes when instructed by the user.</span></span>
   * <span data-ttu-id="346cc-172">Por ejemplo, el usuario podría crear varios "statues" de un amigo al capturar sus supuestos en momentos diferentes.</span><span class="sxs-lookup"><span data-stu-id="346cc-172">For example, the user could create multiple 3D 'statues' of a friend by capturing their poses at different moments.</span></span>

* <span data-ttu-id="346cc-173">**Permitir al usuario cambiar el entorno**</span><span class="sxs-lookup"><span data-stu-id="346cc-173">**Allow the user to change the environment**</span></span>
   * <span data-ttu-id="346cc-174">Una aplicación puede estar diseñada para responder en tiempo real a los cambios realizados en el entorno del usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-174">An application may be designed to respond in real-time to any changes made in the user's environment.</span></span>
   * <span data-ttu-id="346cc-175">Por ejemplo, el usuario que dibuja una cortina podría desencadenar ' cambio de escena ' para una reproducción holográfica en el otro lado.</span><span class="sxs-lookup"><span data-stu-id="346cc-175">For example, the user drawing a curtain could trigger 'scene change' for a holographic play taking place on the other side.</span></span>

* <span data-ttu-id="346cc-176">**Guiar al usuario para evitar errores en los datos de asignación espacial**</span><span class="sxs-lookup"><span data-stu-id="346cc-176">**Guide the user to avoid errors in the spatial mapping data**</span></span>
   * <span data-ttu-id="346cc-177">Una aplicación puede querer proporcionar orientación al usuario mientras examina su entorno.</span><span class="sxs-lookup"><span data-stu-id="346cc-177">An application may wish to provide guidance to the user while they are scanning their environment.</span></span>
   * <span data-ttu-id="346cc-178">Esto puede ayudar al usuario a evitar ciertos tipos de [errores en los datos de la asignación espacial](spatial-mapping-design.md#what-influences-spatial-mapping-quality), por ejemplo, alejándose de las ventanas o los reflejos de sunlit.</span><span class="sxs-lookup"><span data-stu-id="346cc-178">This can help the user to avoid certain kinds of [errors in the spatial mapping data](spatial-mapping-design.md#what-influences-spatial-mapping-quality), for example by staying away from sunlit windows or mirrors.</span></span>

<span data-ttu-id="346cc-179">Un detalle adicional que se debe tener en cuenta es que el "intervalo" de datos de asignación espacial no es ilimitado.</span><span class="sxs-lookup"><span data-stu-id="346cc-179">One additional detail to be aware of is that the 'range' of spatial mapping data is not unlimited.</span></span> <span data-ttu-id="346cc-180">Mientras que la asignación espacial crea una base de datos permanente de espacios grandes, solo hace que los datos estén disponibles para las aplicaciones en una "burbuja" de tamaño limitado alrededor del usuario.</span><span class="sxs-lookup"><span data-stu-id="346cc-180">Whilst spatial mapping does build a permanent database of large spaces, it only makes that data available to applications in a 'bubble' of limited size around the user.</span></span> <span data-ttu-id="346cc-181">Por lo tanto, si comienza al principio de un corredor largo y se aleja de la partida, las superficies espaciales de vuelta al principio desaparecerán.</span><span class="sxs-lookup"><span data-stu-id="346cc-181">Thus if you start at the beginning of a long corridor and walk far enough away from the start, then eventually the spatial surfaces back at the beginning will disappear.</span></span> <span data-ttu-id="346cc-182">Por supuesto, puede mitigar esto si almacena en caché esas superficies en la aplicación después de que hayan desaparecido de los datos de asignación espacial disponibles.</span><span class="sxs-lookup"><span data-stu-id="346cc-182">You can of course mitigate this by caching those surfaces in your application after they have disappeared from the available spatial mapping data.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="346cc-183">Procesamiento de mallas</span><span class="sxs-lookup"><span data-stu-id="346cc-183">Mesh processing</span></span>

<span data-ttu-id="346cc-184">Puede ayudar a detectar tipos comunes de errores en las superficies y filtrar, quitar o modificar los datos de asignación espacial según corresponda.</span><span class="sxs-lookup"><span data-stu-id="346cc-184">It may help to detect common types of errors in surfaces and to filter, remove or modify the spatial mapping data as appropriate.</span></span>

<span data-ttu-id="346cc-185">Tenga en cuenta que los datos de la asignación espacial están diseñados para ser lo más fieles posible a las superficies del mundo real, por lo que cualquier procesamiento que aplique a los riesgos que desplacen las superficies más allá de la "verdad".</span><span class="sxs-lookup"><span data-stu-id="346cc-185">Bear in mind that spatial mapping data is intended to be as faithful as possible to real-world surfaces, so any processing you apply risks shifting your surfaces further from the 'truth'.</span></span>

<span data-ttu-id="346cc-186">Estos son algunos ejemplos de los diferentes tipos de procesamiento de mallas que puede encontrar útiles:</span><span class="sxs-lookup"><span data-stu-id="346cc-186">Here are some examples of different types of mesh processing that you may find useful:</span></span>

* <span data-ttu-id="346cc-187">**Relleno de huecos**</span><span class="sxs-lookup"><span data-stu-id="346cc-187">**Hole filling**</span></span>
   * <span data-ttu-id="346cc-188">Si se produce un error al digitalizar un pequeño objeto de un material oscuro, dejará un hueco en la superficie circundante.</span><span class="sxs-lookup"><span data-stu-id="346cc-188">If a small object made of a dark material fails to scan, it will leave a hole in the surrounding surface.</span></span>
   * <span data-ttu-id="346cc-189">Los huecos afectan a la oclusión: los hologramas se pueden visualizar "a" en una superficie real supuestamente opaca.</span><span class="sxs-lookup"><span data-stu-id="346cc-189">Holes affect occlusion: holograms can be seen 'through' a hole in a supposedly opaque real-world surface.</span></span>
   * <span data-ttu-id="346cc-190">Los huecos afectan a raycasts: Si usa raycasts para ayudar a los usuarios a interactuar con las superficies, puede que no sea deseable que estos rayos pasen por los huecos.</span><span class="sxs-lookup"><span data-stu-id="346cc-190">Holes affect raycasts: if you are using raycasts to help users interact with surfaces, it may be undesirable for these rays to pass through holes.</span></span> <span data-ttu-id="346cc-191">Una mitigación consiste en usar una agrupación de varios raycasts que cubran una región de tamaño adecuado.</span><span class="sxs-lookup"><span data-stu-id="346cc-191">One mitigation is to use a bundle of multiple raycasts covering an appropriately sized region.</span></span> <span data-ttu-id="346cc-192">Esto le permitirá filtrar los resultados de ' atípico ', de modo que incluso si un Raycast pasa a través de un orificio pequeño, el resultado del agregado seguirá siendo válido.</span><span class="sxs-lookup"><span data-stu-id="346cc-192">This will allow you to filter 'outlier' results, so that even if one raycast passes through a small hole, the aggregate result will still be valid.</span></span> <span data-ttu-id="346cc-193">Sin embargo, tenga en cuenta que este enfoque se refiere a un costo computacional.</span><span class="sxs-lookup"><span data-stu-id="346cc-193">However, be aware that this approach comes at a computational cost.</span></span>
   * <span data-ttu-id="346cc-194">Los huecos afectan a las colisiones físicas: un objeto controlado por la simulación física puede desplazarse a través de un orificio en el suelo y perderse.</span><span class="sxs-lookup"><span data-stu-id="346cc-194">Holes affect physics collisions: an object controlled by physics simulation may drop through a hole in the floor and become lost.</span></span>
   * <span data-ttu-id="346cc-195">Es posible rellenar de forma algorítmica estos huecos en la malla de superficie.</span><span class="sxs-lookup"><span data-stu-id="346cc-195">It is possible to algorithmically fill such holes in the surface mesh.</span></span> <span data-ttu-id="346cc-196">Sin embargo, tendrá que ajustar el algoritmo para que no se rellenen "agujeros reales", como ventanas y puertas.</span><span class="sxs-lookup"><span data-stu-id="346cc-196">However, you will need to tune your algorithm so that 'real holes' such as windows and doorways do not get filled in.</span></span> <span data-ttu-id="346cc-197">Puede ser difícil diferenciar de ' agujeros reales ' de ' agujeros imaginarios ' de forma confiable, por lo que tendrá que experimentar con distintas heurísticas, como ' tamaño ' y ' forma límite '.</span><span class="sxs-lookup"><span data-stu-id="346cc-197">It can be difficult to reliably differentiate 'real holes' from 'imaginary holes', so you will need to experiment with different heuristics such as 'size' and 'boundary shape'.</span></span>

* <span data-ttu-id="346cc-198">**Eliminación de Hallucination**</span><span class="sxs-lookup"><span data-stu-id="346cc-198">**Hallucination removal**</span></span>
   * <span data-ttu-id="346cc-199">Las reflexiones, las luces brillantes y los objetos móviles pueden dejar un pequeño "hallucinations" flotante en el aire medio.</span><span class="sxs-lookup"><span data-stu-id="346cc-199">Reflections, bright lights and moving objects can leave small lingering 'hallucinations' floating in mid-air.</span></span>
   * <span data-ttu-id="346cc-200">Hallucinations afectar a la oclusión: Hallucinations puede ser visible como formas oscuras que se mueven delante y occluding otros hologramas.</span><span class="sxs-lookup"><span data-stu-id="346cc-200">Hallucinations affect occlusion: hallucinations may become visible as dark shapes moving in front of and occluding other holograms.</span></span>
   * <span data-ttu-id="346cc-201">Hallucinations afectan a raycasts: Si está usando raycasts para ayudar a los usuarios a interactuar con las superficies, estos rayos podrían alcanzar un Hallucination en lugar de la superficie detrás.</span><span class="sxs-lookup"><span data-stu-id="346cc-201">Hallucinations affect raycasts: if you are using raycasts to help users interact with surfaces, these rays could hit a hallucination instead of the surface behind it.</span></span> <span data-ttu-id="346cc-202">Al igual que con los huecos, una mitigación consiste en usar muchos raycasts en lugar de un único Raycast, pero de nuevo esto supondrá un costo computacional.</span><span class="sxs-lookup"><span data-stu-id="346cc-202">As with holes, one mitigation is to use many raycasts instead of a single raycast, but again this will come at a computational cost.</span></span>
   * <span data-ttu-id="346cc-203">Hallucinations afectan a las colisiones físicas: un objeto controlado por la simulación física puede quedar atascado contra un Hallucination y no puede desplazarse por un área de espacio aparentemente despejada.</span><span class="sxs-lookup"><span data-stu-id="346cc-203">Hallucinations affect physics collisions: an object controlled by physics simulation may become stuck against a hallucination and be unable to move through a seemingly clear area of space.</span></span>
   * <span data-ttu-id="346cc-204">Es posible filtrar este hallucinations de la malla de superficie.</span><span class="sxs-lookup"><span data-stu-id="346cc-204">It is possible to filter such hallucinations from the surface mesh.</span></span> <span data-ttu-id="346cc-205">Sin embargo, al igual que con los huecos, tendrá que ajustar el algoritmo para que no se eliminen los objetos pequeños, como los soportes y los controladores de las puertas.</span><span class="sxs-lookup"><span data-stu-id="346cc-205">However, as with holes, you will need to tune your algorithm so that real small objects such as lamp-stands and door handles do not get removed.</span></span>

* <span data-ttu-id="346cc-206">**Suavizado**</span><span class="sxs-lookup"><span data-stu-id="346cc-206">**Smoothing**</span></span>
   * <span data-ttu-id="346cc-207">La asignación espacial puede devolver superficies que parezcan aproximadas o ' ruidoso ' en comparación con sus homólogos del mundo real.</span><span class="sxs-lookup"><span data-stu-id="346cc-207">Spatial mapping may return surfaces that appear to be rough or 'noisy' in comparison to their real-world counterparts.</span></span>
   * <span data-ttu-id="346cc-208">La suavidad afecta a las colisiones físicas: Si el piso es rugoso, es posible que una bola de golf simulada físicamente no se revierta sin problemas en una línea recta.</span><span class="sxs-lookup"><span data-stu-id="346cc-208">Smoothness affects physics collisions: if the floor is rough, a physically simulated golf ball may not roll smoothly across it in a straight line.</span></span>
   * <span data-ttu-id="346cc-209">La suavidad afecta a la representación: Si una superficie se visualiza directamente, las normales de superficie rugosa pueden afectar a su apariencia e interrumpir el aspecto "limpio".</span><span class="sxs-lookup"><span data-stu-id="346cc-209">Smoothness affects rendering: if a surface is visualized directly, rough surface normals can affect its appearance and disrupt a 'clean' look.</span></span> <span data-ttu-id="346cc-210">Es posible mitigarlo mediante la iluminación y las texturas adecuadas en el sombreador que se usa para representar la superficie.</span><span class="sxs-lookup"><span data-stu-id="346cc-210">It is possible to mitigate this by using appropriate lighting and textures in the shader that is used to render the surface.</span></span>
   * <span data-ttu-id="346cc-211">Es posible suavizar la rugosidad en una malla de superficie.</span><span class="sxs-lookup"><span data-stu-id="346cc-211">It is possible to smooth out roughness in a surface mesh.</span></span> <span data-ttu-id="346cc-212">Sin embargo, esto puede extender la superficie fuera de la superficie del mundo real correspondiente.</span><span class="sxs-lookup"><span data-stu-id="346cc-212">However, this may push the surface further away from the corresponding real-world surface.</span></span> <span data-ttu-id="346cc-213">Es importante mantener una correspondencia estrecha para producir una oclusión de holograma precisa y permitir a los usuarios lograr interacciones precisas y predecibles con las superficies holográficas.</span><span class="sxs-lookup"><span data-stu-id="346cc-213">Maintaining a close correspondence is important to produce accurate hologram occlusion, and to enable users to achieve precise and predictable interactions with holographic surfaces.</span></span>
   * <span data-ttu-id="346cc-214">Si solo se requiere un cambio cosmético, puede ser suficiente para suavizar las normales de vértices sin cambiar las posiciones de los vértices.</span><span class="sxs-lookup"><span data-stu-id="346cc-214">If only a cosmetic change is required, it may be sufficient to smooth vertex normals without changing vertex positions.</span></span>

* <span data-ttu-id="346cc-215">**Búsqueda de planos**</span><span class="sxs-lookup"><span data-stu-id="346cc-215">**Plane finding**</span></span>
   * <span data-ttu-id="346cc-216">Hay muchas formas de análisis que una aplicación puede querer realizar en las superficies proporcionadas por la asignación espacial.</span><span class="sxs-lookup"><span data-stu-id="346cc-216">There are many forms of analysis that an application may wish to perform on the surfaces provided by spatial mapping.</span></span>
   * <span data-ttu-id="346cc-217">Un ejemplo sencillo es ' búsqueda de planos '; identificación de regiones de superficies limitadas y delimitadas.</span><span class="sxs-lookup"><span data-stu-id="346cc-217">One simple example is 'plane finding'; identifying bounded, mostly-planar regions of surfaces.</span></span>
   * <span data-ttu-id="346cc-218">Las regiones planas se pueden usar como superficies de trabajo holográficas, regiones en las que la aplicación puede colocar automáticamente el contenido holográfica.</span><span class="sxs-lookup"><span data-stu-id="346cc-218">Planar regions can be used as holographic work-surfaces, regions where holographic content can be automatically placed by the application.</span></span>
   * <span data-ttu-id="346cc-219">Las regiones planas pueden restringir la interfaz de usuario para guiar a los usuarios para que interactúen con las superficies que mejor se adapten a sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="346cc-219">Planar regions can constrain the user interface, to guide users to interact with the surfaces that best suit their needs.</span></span>
   * <span data-ttu-id="346cc-220">Las regiones planas se pueden usar como en el mundo real, para homólogos holográficas a objetos funcionales como pantallas LCD, tablas o pizarras.</span><span class="sxs-lookup"><span data-stu-id="346cc-220">Planar regions can be used as in the real world, for holographic counterparts to functional objects such as LCD screens, tables or whiteboards.</span></span>
   * <span data-ttu-id="346cc-221">Las regiones planas pueden definir áreas de reproducción, formando la base de los niveles de Videogame.</span><span class="sxs-lookup"><span data-stu-id="346cc-221">Planar regions can define play areas, forming the basis of videogame levels.</span></span>
   * <span data-ttu-id="346cc-222">Las regiones planas pueden ayudar a los agentes virtuales a navegar por el mundo real, mediante la identificación de las áreas de piso en las que es probable que los usuarios reales realicen un recorrido.</span><span class="sxs-lookup"><span data-stu-id="346cc-222">Planar regions can aid virtual agents to navigate the real world, by identifying the areas of floor that real people are likely to walk on.</span></span>

## <a name="prototyping-and-debugging"></a><span data-ttu-id="346cc-223">Prototipos y depuración</span><span class="sxs-lookup"><span data-stu-id="346cc-223">Prototyping and debugging</span></span>

### <a name="useful-tools"></a><span data-ttu-id="346cc-224">Herramientas útiles</span><span class="sxs-lookup"><span data-stu-id="346cc-224">Useful tools</span></span>
* <span data-ttu-id="346cc-225">El [emulador de hololens](using-the-hololens-emulator.md) se puede usar para desarrollar aplicaciones mediante la asignación espacial sin acceso a una HoloLens física.</span><span class="sxs-lookup"><span data-stu-id="346cc-225">The [HoloLens emulator](using-the-hololens-emulator.md) can be used to develop applications using spatial mapping without access to a physical HoloLens.</span></span> <span data-ttu-id="346cc-226">Le permite simular una sesión activa en una HoloLens en un entorno realista, con todos los datos que utilizará normalmente la aplicación, como el movimiento de HoloLens, los sistemas de coordenadas espaciales y las mallas de asignación espacial.</span><span class="sxs-lookup"><span data-stu-id="346cc-226">It allows you to simulate a live session on a HoloLens in a realistic environment, with all of the data your application would normally consume, including HoloLens motion, spatial coordinate systems and spatial mapping meshes.</span></span> <span data-ttu-id="346cc-227">Se puede usar para proporcionar una entrada repetible y confiable, que puede ser útil para depurar problemas y evaluar los cambios en el código.</span><span class="sxs-lookup"><span data-stu-id="346cc-227">This can be used to provide reliable, repeatable input, which can be useful for debugging problems and evaluating changes to your code.</span></span>
* <span data-ttu-id="346cc-228">Para reproducir escenarios, Capture los datos de asignación espacial a través de la red desde una HoloLens en vivo y, luego, guárdelos en el disco y vuelva a usarlo en sesiones de depuración posteriores.</span><span class="sxs-lookup"><span data-stu-id="346cc-228">To reproduce a scenarios, capture spatial mapping data over the network from a live HoloLens, then save it to disk and reuse it in subsequent debugging sessions.</span></span>
* <span data-ttu-id="346cc-229">La [vista 3D del portal de dispositivos de Windows](using-the-windows-device-portal.md#3d-view) proporciona una manera de ver todas las superficies espaciales disponibles actualmente a través del sistema de asignación espacial.</span><span class="sxs-lookup"><span data-stu-id="346cc-229">The [Windows device portal 3D view](using-the-windows-device-portal.md#3d-view) provides a way to see all of the spatial surfaces currently available via the spatial mapping system.</span></span> <span data-ttu-id="346cc-230">Esto proporciona una base de comparación para las superficies espaciales dentro de la aplicación; por ejemplo, puede saber fácilmente si faltan superficies espaciales o si se muestran en el lugar equivocado.</span><span class="sxs-lookup"><span data-stu-id="346cc-230">This provides a basis of comparison for the spatial surfaces inside your application; for example you can easily tell if any spatial surfaces are missing or are being displayed in the wrong place.</span></span>

### <a name="general-prototyping-guidance"></a><span data-ttu-id="346cc-231">Instrucciones generales de prototipos</span><span class="sxs-lookup"><span data-stu-id="346cc-231">General prototyping guidance</span></span>
* <span data-ttu-id="346cc-232">Dado que los [errores](spatial-mapping-design.md#what-influences-spatial-mapping-quality) en los datos de asignación espacial pueden afectar seriamente a la experiencia del usuario, se recomienda probar la aplicación en una amplia variedad de entornos.</span><span class="sxs-lookup"><span data-stu-id="346cc-232">Because [errors](spatial-mapping-design.md#what-influences-spatial-mapping-quality) in the spatial mapping data may strongly affect your user's experience, we recommend that you test your application in a wide variety of environments.</span></span>
* <span data-ttu-id="346cc-233">No se preocupe en el hábito de probar siempre en la misma ubicación, por ejemplo, en el escritorio.</span><span class="sxs-lookup"><span data-stu-id="346cc-233">Don't get trapped in the habit of always testing in the same location, for example at your desk.</span></span> <span data-ttu-id="346cc-234">Asegúrese de probar varias superficies de diferentes posiciones, formas, tamaños y materiales.</span><span class="sxs-lookup"><span data-stu-id="346cc-234">Make sure to test on various surfaces of different positions, shapes, sizes and materials.</span></span>
* <span data-ttu-id="346cc-235">Del mismo modo, aunque los datos sintéticos o grabados pueden ser útiles para la depuración, no se vuelven demasiado a depender de los mismos casos de prueba.</span><span class="sxs-lookup"><span data-stu-id="346cc-235">Similarly, while synthetic or recorded data can be useful for debugging, don't become too reliant upon the same few test cases.</span></span> <span data-ttu-id="346cc-236">Esto puede retrasar la búsqueda de problemas importantes que se habrían detectado con anterioridad.</span><span class="sxs-lookup"><span data-stu-id="346cc-236">This may delay finding important issues that more varied testing would have caught earlier.</span></span>
* <span data-ttu-id="346cc-237">Es una buena idea realizar pruebas con usuarios reales (y idealmente no dirigidos), ya que es posible que no usen HoloLens o su aplicación exactamente del mismo modo que lo hace.</span><span class="sxs-lookup"><span data-stu-id="346cc-237">It is a good idea to perform testing with real (and ideally un-coached) users, because they may not use the HoloLens or your application in exactly the same way that you do.</span></span> <span data-ttu-id="346cc-238">De hecho, puede sorprenderle de qué grado de comportamiento, conocimiento y suposiciones de las personas pueden ser divergentes.</span><span class="sxs-lookup"><span data-stu-id="346cc-238">In fact, it may surprise you how divergent people's behavior, knowledge and assumptions can be!</span></span>

## <a name="see-also"></a><span data-ttu-id="346cc-239">Vea también</span><span class="sxs-lookup"><span data-stu-id="346cc-239">See also</span></span>
* [<span data-ttu-id="346cc-240">Visualización de la exploración de la sala</span><span class="sxs-lookup"><span data-stu-id="346cc-240">Room scan visualization</span></span>](room-scan-visualization.md)
* [<span data-ttu-id="346cc-241">Diseño de sonido espacial</span><span class="sxs-lookup"><span data-stu-id="346cc-241">Spatial sound design</span></span>](spatial-sound-design.md)
* [<span data-ttu-id="346cc-242">Persistencia en Unity</span><span class="sxs-lookup"><span data-stu-id="346cc-242">Persistence in Unity</span></span>](persistence-in-unity.md)
