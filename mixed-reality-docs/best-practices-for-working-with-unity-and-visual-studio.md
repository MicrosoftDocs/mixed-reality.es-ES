---
title: Prácticas recomendadas para trabajar con Unity y Visual Studio
description: Sugerencias y trucos para simplificar el flujo de trabajo de creación de una aplicación de realidad mixta con Unity y Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: implementación, Unity, Visual Studio, HoloLens, HoloLens 2, auriculares envolventes
ms.openlocfilehash: 4d145568190ea43cf2ec43442a1c3d5ca4d92251
ms.sourcegitcommit: 7e8b9de561cbc8483e84511f3e9cbd779f3a999f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/27/2019
ms.locfileid: "75502636"
---
# <a name="best-practices-for-working-with-unity-and-visual-studio"></a><span data-ttu-id="925c9-104">Prácticas recomendadas para trabajar con Unity y Visual Studio</span><span class="sxs-lookup"><span data-stu-id="925c9-104">Best practices for working with Unity and Visual Studio</span></span>

<span data-ttu-id="925c9-105">Un desarrollador que cree una aplicación de realidad mixta con Unity tendrá que cambiar entre Unity y Visual Studio para compilar el paquete de aplicación que se implementa en HoloLens y/o un auricular envolvente.</span><span class="sxs-lookup"><span data-stu-id="925c9-105">A developer creating a mixed reality application with Unity will need to switch between Unity and Visual Studio to build the application package that is deployed to HoloLens and/or an immersive headset.</span></span> <span data-ttu-id="925c9-106">De forma predeterminada, se requieren dos instancias de Visual Studio (una para modificar los scripts de Unity y otra para la implementación en el dispositivo y en la depuración).</span><span class="sxs-lookup"><span data-stu-id="925c9-106">By default, two instances of Visual Studio are required (one to modify Unity scripts and one to deploy to the device and debug).</span></span> <span data-ttu-id="925c9-107">El siguiente procedimiento permite el desarrollo mediante una única instancia de Visual Studio, reduce la frecuencia de exportación de proyectos de Unity y mejora la experiencia de depuración.</span><span class="sxs-lookup"><span data-stu-id="925c9-107">The following procedure allows development using single Visual Studio instance, reduces the frequency of exporting Unity projects, and improves the debugging experience.</span></span>

## <a name="improving-iteration-time"></a><span data-ttu-id="925c9-108">Mejorar el tiempo de iteración</span><span class="sxs-lookup"><span data-stu-id="925c9-108">Improving iteration time</span></span>

<span data-ttu-id="925c9-109">La compatibilidad con el back-end de scripting de .NET en Unity está en desuso en Unity 2018 y se quitó en Unity 2019 +.</span><span class="sxs-lookup"><span data-stu-id="925c9-109">Support for .NET scripting back-end in Unity is being deprecated in Unity 2018 and removed in Unity 2019+.</span></span> <span data-ttu-id="925c9-110">Por lo tanto, se recomienda cambiar a [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="925c9-110">Thus, it is advised to switch to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> <span data-ttu-id="925c9-111">Sin embargo, esto puede provocar tiempos de compilación más prolongados de Unity a Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="925c9-111">However, this may incur longer build times from Unity to Visual Studio.</span></span> <span data-ttu-id="925c9-112">Para mejorar la iteración más rápida, debe configurar su entorno para obtener los mejores resultados de la compilación.</span><span class="sxs-lookup"><span data-stu-id="925c9-112">To improve for faster iteration, one should set up their environment for best compilation results.</span></span>

1) <span data-ttu-id="925c9-113">Aproveche las compilaciones incrementales compilando el proyecto en el mismo directorio cada vez, reutilizando los archivos creados previamente</span><span class="sxs-lookup"><span data-stu-id="925c9-113">Leverage incremental building by building your project to the same directory every time, re-using the pre-built files there</span></span>
2) <span data-ttu-id="925c9-114">Deshabilitar exámenes de software antimalware para el proyecto & carpetas de compilación</span><span class="sxs-lookup"><span data-stu-id="925c9-114">Disable anti-malware software scans for your project & build folders</span></span>
   - <span data-ttu-id="925c9-115">Abrir **protección contra amenazas de Virus &** en la aplicación de configuración de Windows 10</span><span class="sxs-lookup"><span data-stu-id="925c9-115">Open **Virus & threat protection** under your Windows 10 settings app</span></span>
   - <span data-ttu-id="925c9-116">Seleccione **Administrar configuración** en **configuración de protección contra amenazas de virus &**</span><span class="sxs-lookup"><span data-stu-id="925c9-116">Select **Manage Settings** under **Virus & threat protection settings**</span></span>
   - <span data-ttu-id="925c9-117">Seleccione **Agregar o quitar exclusiones** en la sección **exclusiones** .</span><span class="sxs-lookup"><span data-stu-id="925c9-117">Select **Add or remove exclusions** under the **Exclusions** section</span></span>
   - <span data-ttu-id="925c9-118">Haga clic en **Agregar una exclusión** y seleccione la carpeta que contiene el código del proyecto de Unity y las salidas de compilación.</span><span class="sxs-lookup"><span data-stu-id="925c9-118">Click **Add an exclusion** and select the folder containing your Unity project code and build outputs</span></span>
3) <span data-ttu-id="925c9-119">Uso de SSD para compilar</span><span class="sxs-lookup"><span data-stu-id="925c9-119">Utilize an SSD for building</span></span>

<span data-ttu-id="925c9-120">Revise la [optimización de los tiempos de compilación de IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="925c9-120">Review [Optimizing Build Times for IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) for more info.</span></span> <span data-ttu-id="925c9-121">Además, revise [la depuración en el back-end de scripting de IL2CPP](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span><span class="sxs-lookup"><span data-stu-id="925c9-121">Also, review [Debugging on IL2CPP Scripting Back-end](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span></span>

<span data-ttu-id="925c9-122">Además, considere la posibilidad de instalar la [extensión de Visual Studio *UnityScriptAnalyzer* ](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="925c9-122">Furthermore, consider installing the [*UnityScriptAnalyzer* Visual Studio extension](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span></span> <span data-ttu-id="925c9-123">Esta herramienta analiza los scripts C# de Unity en busca de código que pueda escribirse de forma más optimizada.</span><span class="sxs-lookup"><span data-stu-id="925c9-123">This tool analyzes your Unity C# scripts for code that may be able to be written in a more optimized manner.</span></span>

## <a name="visual-studio-tools-for-unity"></a><span data-ttu-id="925c9-124">Visual Studio Tools para Unity</span><span class="sxs-lookup"><span data-stu-id="925c9-124">Visual Studio Tools for Unity</span></span>

<span data-ttu-id="925c9-125">Descargar [Visual Studio Tools para Unity](https://docs.microsoft.com/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019)</span><span class="sxs-lookup"><span data-stu-id="925c9-125">Download [Visual Studio Tools for Unity](https://docs.microsoft.com/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019)</span></span>

<span data-ttu-id="925c9-126">**Ventajas de Visual Studio Tools para Unity**</span><span class="sxs-lookup"><span data-stu-id="925c9-126">**Benefits of Visual Studio Tools for Unity**</span></span>
* <span data-ttu-id="925c9-127">Depure el modo de reproducción en el editor de Unity desde Visual Studio colocando puntos de interrupción, evaluando variables y expresiones complejas.</span><span class="sxs-lookup"><span data-stu-id="925c9-127">Debug Unity in-editor play mode from Visual Studio by putting breakpoints, evaluating variables and complex expressions.</span></span>
* <span data-ttu-id="925c9-128">Use el explorador de proyectos de Unity para buscar el script con la misma jerarquía que se muestra en Unity.</span><span class="sxs-lookup"><span data-stu-id="925c9-128">Use the Unity Project Explorer to find your script with the exact same hierarchy that Unity displays.</span></span>
* <span data-ttu-id="925c9-129">Obtenga la consola de Unity directamente en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="925c9-129">Get the Unity console directly inside Visual Studio.</span></span>
* <span data-ttu-id="925c9-130">Use los asistentes para crear o navegar rápidamente por scripts.</span><span class="sxs-lookup"><span data-stu-id="925c9-130">Use wizards to quickly create or navigate to scripts.</span></span>

## <a name="expose-c-class-variables-for-easy-tuning"></a><span data-ttu-id="925c9-131">Exponer C# variables de clase para facilitar el ajuste</span><span class="sxs-lookup"><span data-stu-id="925c9-131">Expose C# class variables for easy tuning</span></span>

<span data-ttu-id="925c9-132">Hay dos maneras de exponer variables de clase.</span><span class="sxs-lookup"><span data-stu-id="925c9-132">There are two ways to expose class variables.</span></span> <span data-ttu-id="925c9-133">La manera recomendada es agregar el atributo [SerializeField] a las variables privadas.</span><span class="sxs-lookup"><span data-stu-id="925c9-133">The recommended way is to add the [SerializeField] attribute to your private variables.</span></span> <span data-ttu-id="925c9-134">Esto permite tener acceso a ellos desde el editor pero no se exponen mediante programación.</span><span class="sxs-lookup"><span data-stu-id="925c9-134">This allows them to be accessed from the editor but not programmatically exposed.</span></span>  <span data-ttu-id="925c9-135">La otra opción es hacer C# que las variables de clase sean públicas para exponerlas en la interfaz de usuario del editor.</span><span class="sxs-lookup"><span data-stu-id="925c9-135">The other option is to make C# class variables public to expose them in the editor UI.</span></span> 

<span data-ttu-id="925c9-136">Ambos enfoques permiten ajustar fácilmente las variables mientras se reproducen en el editor.</span><span class="sxs-lookup"><span data-stu-id="925c9-136">Both approaches make it possible to easily tweak variables while playing in-editor.</span></span> <span data-ttu-id="925c9-137">Esto es especialmente útil para ajustar las propiedades del mecánico de interacción.</span><span class="sxs-lookup"><span data-stu-id="925c9-137">This is especially useful for tuning interaction mechanic properties.</span></span>

## <a name="regenerate-uwp-visual-studio-solutions-after-windows-sdk-or-unity-upgrade"></a><span data-ttu-id="925c9-138">Volver a generar soluciones de Visual Studio para UWP después de la actualización de Windows SDK o Unity</span><span class="sxs-lookup"><span data-stu-id="925c9-138">Regenerate UWP Visual Studio solutions after Windows SDK or Unity upgrade</span></span>

<span data-ttu-id="925c9-139">Las soluciones de Visual Studio de UWP protegidas en el control de código fuente pueden no estar actualizadas después de actualizar a un nuevo motor de Windows SDK o Unity.</span><span class="sxs-lookup"><span data-stu-id="925c9-139">UWP Visual Studio solutions checked in to source control can get out-of-date after upgrading to a new Windows SDK or Unity engine.</span></span> <span data-ttu-id="925c9-140">Puede resolver este paso después de la actualización. para ello, cree una nueva solución de UWP desde Unity y, luego, combine cualquier diferencia en la solución protegida.</span><span class="sxs-lookup"><span data-stu-id="925c9-140">You can resolve this after the upgrade by building a new UWP solution from Unity, then merging any differences into the checked-in solution.</span></span>

## <a name="use-text-format-assets-for-easy-comparison-of-content-changes"></a><span data-ttu-id="925c9-141">Usar recursos en formato de texto para facilitar la comparación de los cambios de contenido</span><span class="sxs-lookup"><span data-stu-id="925c9-141">Use text-format assets for easy comparison of content changes</span></span>

<span data-ttu-id="925c9-142">El almacenamiento de recursos en formato de texto permite revisar más fácilmente las diferencias de cambio de contenido en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="925c9-142">Storing assets in text format makes it easier to review content change diffs in Visual Studio.</span></span> <span data-ttu-id="925c9-143">Puede habilitarlo en "Editar > configuración del proyecto > Editor" cambiando el modo de **serialización de activos** para **forzar el texto**.</span><span class="sxs-lookup"><span data-stu-id="925c9-143">You can enable this in "Edit > Project Settings > Editor" by changing **Asset Serialization** mode to **Force Text**.</span></span> <span data-ttu-id="925c9-144">Sin embargo, la combinación de cambios en el archivo de recursos de texto es propensa a errores y no se recomienda, por lo que considere habilitar desprotecciones binarias exclusivas en el sistema de control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="925c9-144">However, merging text asset file changes is error-prone and not recommended, so consider enabling exclusive binary checkouts in your source control system.</span></span>

## <a name="see-also"></a><span data-ttu-id="925c9-145">Consulta también</span><span class="sxs-lookup"><span data-stu-id="925c9-145">See also</span></span>
- [<span data-ttu-id="925c9-146">Visual Studio Tools para Unity</span><span class="sxs-lookup"><span data-stu-id="925c9-146">Visual Studio Tools for Unity</span></span>](https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9)
- [<span data-ttu-id="925c9-147">Optimizar los tiempos de compilación para IL2CPP</span><span class="sxs-lookup"><span data-stu-id="925c9-147">Optimizing Build Times for IL2CPP</span></span>](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)
- [<span data-ttu-id="925c9-148">*UnityScriptAnalyzer* Extensión de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="925c9-148">*UnityScriptAnalyzer* Visual Studio extension</span></span>](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer)
