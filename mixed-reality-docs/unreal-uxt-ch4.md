---
title: 4. Creación de escenas interactivas
description: Parte 4 de un tutorial para crear una aplicación de ajedrez sencilla con Unreal Engine 4 y el complemento UX Tools de Mixed Reality Toolkit.
author: sw5813
ms.author: suwu
ms.date: 5/5/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, mixed reality, tutorial, getting started, mrtk, uxt, UX Tools, documentation
ms.openlocfilehash: 17f7ab1c1126c47e5ac6388d125d45cf3f2c2d87
ms.sourcegitcommit: 189a47b8712dd5b620e19815f5cf6d1ac0f29880
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 05/06/2020
ms.locfileid: "82851558"
---
# <a name="3-making-your-scene-interactive"></a><span data-ttu-id="98a7f-104">3. Creación de escenas interactivas</span><span class="sxs-lookup"><span data-stu-id="98a7f-104">3. Making your scene interactive</span></span>

<span data-ttu-id="98a7f-105">En esta sección se presenta el complemento de código abierto UX Tools de Mixed Reality Toolkit, que proporciona un conjunto de herramientas para hacer que la escena sea interactiva fácilmente.</span><span class="sxs-lookup"><span data-stu-id="98a7f-105">This section introduces you to the open source Mixed Reality Toolkit UX Tools plugin, which provides a set of tools to easily make your scene interactive.</span></span> <span data-ttu-id="98a7f-106">Al final de esta sección, las piezas de ajedrez responderán a la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="98a7f-106">By the end of this section, your chess pieces will respond to user input.</span></span> 

## <a name="objectives"></a><span data-ttu-id="98a7f-107">Objetivos</span><span class="sxs-lookup"><span data-stu-id="98a7f-107">Objectives</span></span>

* <span data-ttu-id="98a7f-108">Incluir el complemento UX Tools de Mixed Reality Toolkit en el proyecto</span><span class="sxs-lookup"><span data-stu-id="98a7f-108">Include the Mixed Reality Toolkit UX Tools plugin in your project</span></span>
* <span data-ttu-id="98a7f-109">Agregar los actores de interacción con la mano a su alcance</span><span class="sxs-lookup"><span data-stu-id="98a7f-109">Add Hand Interaction Actors to your fingertips</span></span>
* <span data-ttu-id="98a7f-110">Crear y adjuntar manipuladores al tablero y las piezas de ajedrez</span><span class="sxs-lookup"><span data-stu-id="98a7f-110">Create and attach Manipulators to your chess board and pieces</span></span> 
* <span data-ttu-id="98a7f-111">Usar la simulación de entrada para validar el proyecto</span><span class="sxs-lookup"><span data-stu-id="98a7f-111">Use input simulation to validate your project</span></span>

## <a name="download-the-mixed-reality-toolkit-ux-tools-plugin"></a><span data-ttu-id="98a7f-112">Descarga del complemento UX Tools de Mixed Reality Toolkit</span><span class="sxs-lookup"><span data-stu-id="98a7f-112">Download the Mixed Reality Toolkit UX Tools plugin</span></span>

1.  <span data-ttu-id="98a7f-113">Clona o descarga y descomprime la versión más reciente del complemento UX Tools de MRTK del [repositorio de GitHub de UX Tools](https://github.com/microsoft/MixedReality-UXTools-Unreal/releases).</span><span class="sxs-lookup"><span data-stu-id="98a7f-113">Clone or download and unzip the latest release of the MRTK UX Tools plugin from the [UX Tools GitHub repository](https://github.com/microsoft/MixedReality-UXTools-Unreal/releases)</span></span>

2.  <span data-ttu-id="98a7f-114">En la carpeta raíz del proyecto de ajedrez, crea una nueva carpeta denominada "Plugins" (Complementos).</span><span class="sxs-lookup"><span data-stu-id="98a7f-114">In your chess project root folder, create a new folder called “Plugins”.</span></span> <span data-ttu-id="98a7f-115">Copia el complemento UXTools descomprimido en esta carpeta.</span><span class="sxs-lookup"><span data-stu-id="98a7f-115">Copy your unzipped UXTools plugin into this folder.</span></span> <span data-ttu-id="98a7f-116">Reinicia el editor de Unreal.</span><span class="sxs-lookup"><span data-stu-id="98a7f-116">Restart the Unreal editor.</span></span> 

![Crear una carpeta de complementos del proyecto](images/unreal-uxt/4-plugins.PNG)

3.  <span data-ttu-id="98a7f-118">Después de reiniciar, si no ves el contenido del complemento UX Tools en el panel de orígenes, puede que tengas que hacer clic en **View Options > Show Plugin Content** (Opciones de vista > Mostrar contenido de complementos).</span><span class="sxs-lookup"><span data-stu-id="98a7f-118">After restarting, if you don’t see UXTools plugin content in your sources panel, you may need to click on **View Options > Show Plugin Content**.</span></span> <span data-ttu-id="98a7f-119">Verás que el complemento UXTools proporciona una carpeta de contenido con punteros, simulación de entrada y un botón sencillo, así como una carpeta de clases de C++ con subcarpetas separadas por función.</span><span class="sxs-lookup"><span data-stu-id="98a7f-119">You’ll see that the UXTools plugin provides a Content folder with Pointers, Input Simulation, and a Simple Button, as well as a C++ Classes folder with subfolders separated by function.</span></span>  

![Mostrar el contenido del complemento](images/unreal-uxt/4-showplugincontent.PNG)

## <a name="spawn-hand-interaction-actors"></a><span data-ttu-id="98a7f-121">Generar actores de interacción con la mano</span><span class="sxs-lookup"><span data-stu-id="98a7f-121">Spawn Hand Interaction Actors</span></span>

1.  <span data-ttu-id="98a7f-122">Para empezar, generemos actores de interacción con la mano de nuestro MRPawn para que 1) podamos visualizar MRPawn con un cursor en las puntas de los dedos índices del peón, 2) podamos proporcionar eventos de entrada manual articulados (y, por tanto, manipular directamente los actores) mediante el peón y 3) proporcionar eventos de entrada de interacción lejanos mediante un haz de mano al extender las palmas.</span><span class="sxs-lookup"><span data-stu-id="98a7f-122">Let’s start by spawning Hand Interaction Actors from our MRPawn so that 1) we can visualize MRPawn with a cursor on the tips of the Pawn’s index fingers, 2) we can provide articulated hand input events (and thus, directly manipulate actors) through the Pawn, and 3) we can provide far interaction input events through hand rays extending from our palms.</span></span> <span data-ttu-id="98a7f-123">Abre el plano técnico **MRPawn** y desplázate hasta **Event Graph** (Gráfico de eventos).</span><span class="sxs-lookup"><span data-stu-id="98a7f-123">Open the **MRPawn** Blueprint and navigate to the **Event Graph**.</span></span> 

2.  <span data-ttu-id="98a7f-124">Arrastra la marca de ejecución del elemento BeginPlay del evento y suéltala para colocar un nuevo nodo.</span><span class="sxs-lookup"><span data-stu-id="98a7f-124">Drag the execution pin from Event BeginPlay and release to place a new node.</span></span> <span data-ttu-id="98a7f-125">Selecciona el nodo **Spawn Actor from Class** (Generar actor a partir de clase).</span><span class="sxs-lookup"><span data-stu-id="98a7f-125">Select the **Spawn Actor from Class** node.</span></span> <span data-ttu-id="98a7f-126">Haz clic en la lista desplegable situada junto a la marca **Class** (Clase) y busca **Uxt Hand Interaction Actor** (Actor de interacción con la mano de UXT).</span><span class="sxs-lookup"><span data-stu-id="98a7f-126">Click the dropdown next to the **Class** pin and search for **Uxt Hand Interaction Actor**.</span></span> <span data-ttu-id="98a7f-127">Arrastra la marca de ejecución del nodo de interacción con la mano de UXT SpawnActor, suéltala y busca la función **Set Hand** (Establecer mano) de la clase Uxt Hand Interaction Actor (Actor de interacción con la mano de UXT).</span><span class="sxs-lookup"><span data-stu-id="98a7f-127">Drag the execution pin from the SpawnActor Uxt Hand Interaction node, release, and search for the **Set Hand** function contained in the Uxt Hand Interaction Actor class.</span></span> <span data-ttu-id="98a7f-128">Conecta el valor devuelto del nodo SpawnActor con la marca de destino del nodo Set Hand (Establecer mano) del actor de interacción con la mano en **Izquierda**.</span><span class="sxs-lookup"><span data-stu-id="98a7f-128">Connect the SpawnActor node’s Return Value to the Target pin of the Set Hand node to set the hand of the Hand Interaction Actor to **Left**.</span></span> <span data-ttu-id="98a7f-129">Genera un segundo **Uxt Hand Interaction Actor** (Actor de interacción con la mano de UXT), esta vez estableciendo la mano en **Right** (Derecha), de modo que cuando empiece el evento, se genere este actor en cada mano.</span><span class="sxs-lookup"><span data-stu-id="98a7f-129">Spawn a second **Uxt Hand Interaction Actor**, this time setting the hand to **Right**, so that when the event begins, a Uxt Hand Interaction Actor will be spawned on each hand.</span></span> 

![Generar actores de interacción con la mano de UXT](images/unreal-uxt/4-spawnactor.PNG)

3.  <span data-ttu-id="98a7f-131">A continuación, debemos proporcionar a nuestros actores de interacción con la mano una transformación inicial a partir de la que generarse, así como un propietario.</span><span class="sxs-lookup"><span data-stu-id="98a7f-131">Next, we need to provide our Uxt Hand Interaction Actors with an initial transform at which to spawn, and an owner.</span></span> <span data-ttu-id="98a7f-132">Arrastra la marca de las marcas de **Spawn Transform** (Generar transformación) y suéltala para colocar un nuevo nodo.</span><span class="sxs-lookup"><span data-stu-id="98a7f-132">Drag the pin off one of the **Spawn Transform** pins and release to place a new node.</span></span> <span data-ttu-id="98a7f-133">Busca el nodo **Make Transform** (Crear transformación).</span><span class="sxs-lookup"><span data-stu-id="98a7f-133">Search for the **Make Transform** node.</span></span> <span data-ttu-id="98a7f-134">Realmente, la transformación inicial no importa, ya que los actores de interacción con la mano saltarán a nuestras manos en cuanto estén visibles (código que ya está escrito para nosotros en el complemento UX Tools). De lo contrario, desaparecerán.</span><span class="sxs-lookup"><span data-stu-id="98a7f-134">The initial transform really doesn’t matter since the Hand Interaction Actors will jump to our hands as soon as they are visible (code that’s already written for us in the UX Tools plugin), otherwise, they’ll disappear.</span></span> <span data-ttu-id="98a7f-135">Sin embargo, la función SpawnActor requiere una transformación como entrada para evitar un error del compilador, por lo que dejaremos los valores predeterminados de Make Transform (Crear transformación) como están.</span><span class="sxs-lookup"><span data-stu-id="98a7f-135">However, the SpawnActor function requires a Transform as input to avoid a compiler error, so we’ll just leave the default values in Make Transform as is.</span></span> <span data-ttu-id="98a7f-136">Arrastra **Return Value** (Valor devuelto) de Make Transform (Crear transformación) a la transformación de generación del actor de interacción de la otra mano.</span><span class="sxs-lookup"><span data-stu-id="98a7f-136">Drag Make Transform’s **Return Value** to the other hand’s Interaction Actor Spawn Transform as well.</span></span> 

4.  <span data-ttu-id="98a7f-137">Haz clic en la **flecha hacia abajo** en la parte inferior de los nodos SpawnActor para revelar la marca **Owner** (Propietario).</span><span class="sxs-lookup"><span data-stu-id="98a7f-137">Click the **down arrow** at the bottom of both SpawnActor nodes to reveal the **Owner** pin.</span></span> <span data-ttu-id="98a7f-138">Arrastra la marca de las marcas de **Owner** (Propietario) y suéltala para colocar un nuevo nodo.</span><span class="sxs-lookup"><span data-stu-id="98a7f-138">Drag the pin off one of the **Owner** pins and release to place a new node.</span></span> <span data-ttu-id="98a7f-139">Busca “self” (propio) y selecciona la variable **Get a reference to self** (Obtener una referencia a un elemento propio).</span><span class="sxs-lookup"><span data-stu-id="98a7f-139">Search for “self” and select the **Get a reference to self** variable.</span></span> <span data-ttu-id="98a7f-140">Crea un vínculo entre el nodo de referencia de objetos propios y la marca del propietario del actor de interacción con la mano, también.</span><span class="sxs-lookup"><span data-stu-id="98a7f-140">Create a link between the Self object reference node and the other Hand Interaction Actor’s Owner pin as well.</span></span> <span data-ttu-id="98a7f-141">No dudes en arrastrar los nodos para que el plano técnico resulte más fácil de leer.</span><span class="sxs-lookup"><span data-stu-id="98a7f-141">Feel free to drag around nodes to make your Blueprint more readable.</span></span> <span data-ttu-id="98a7f-142">**Compila**, **guarda** y vuelve a la ventana principal.</span><span class="sxs-lookup"><span data-stu-id="98a7f-142">**Compile**, **save**, and return to the Main window.</span></span> 

![Completar la configuración del actor de interacción con la mano de UXT](images/unreal-uxt/4-fingerptrs.PNG)

<span data-ttu-id="98a7f-144">Para obtener más información sobre el actor de interacción manual proporcionado en el complemento UX Tools de MRTK, consulta la [documentación](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/HandInteraction.html) oficial.</span><span class="sxs-lookup"><span data-stu-id="98a7f-144">For more information about the Hand Interaction Actor provided in the MRTK UX Tools plugin, check out the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/HandInteraction.html).</span></span>

## <a name="attach-manipulators"></a><span data-ttu-id="98a7f-145">Adjuntar manipuladores</span><span class="sxs-lookup"><span data-stu-id="98a7f-145">Attach Manipulators</span></span>

1.  <span data-ttu-id="98a7f-146">A continuación, adjuntaremos manipuladores a nuestros actores del rey y el tablero de ajedrez.</span><span class="sxs-lookup"><span data-stu-id="98a7f-146">Next, we’ll attach Manipulators to our chess board and king Actors.</span></span> <span data-ttu-id="98a7f-147">Un manipulador es un componente que responde a la entrada manual articulada y se puede capturar, girar e interpretar. Al aplicar la transformación del manipulador a la de un actor, los actores se pueden manipular directamente.</span><span class="sxs-lookup"><span data-stu-id="98a7f-147">A Manipulator is a component that responds to articulated hand input and can be grabbed, rotated, and translated; by applying the Manipulator’s transform to that of an Actor, Actors can be directly manipulated.</span></span> 

2.  <span data-ttu-id="98a7f-148">Abre el plano técnico Board.</span><span class="sxs-lookup"><span data-stu-id="98a7f-148">Open your Board Blueprint.</span></span> <span data-ttu-id="98a7f-149">En el panel **Components** (Componentes), haz clic en **Add Component** (Agregar componente) y busca **Uxt Generic Manipulator** (Manipulador genérico de UXT).</span><span class="sxs-lookup"><span data-stu-id="98a7f-149">In the **Components** panel, click **Add Component** and search for **Uxt Generic Manipulator**.</span></span> <span data-ttu-id="98a7f-150">En el panel Details (Detalles), encontrarás una sección titulada **Generic Manipulator** (Manipulador genérico), donde puedes establecer si quieres habilitar la manipulación con una mano o con dos, el modo de rotación y el suavizado.</span><span class="sxs-lookup"><span data-stu-id="98a7f-150">In the Details panel, you’ll find a section titled **Generic Manipulator** where you can set whether you want to enable one-handed or two-handed manipulation, the rotation mode, and smoothing.</span></span> <span data-ttu-id="98a7f-151">No dudes en seleccionar los modos que quieras y, a continuación, **compila** y **guarda** el tablero.</span><span class="sxs-lookup"><span data-stu-id="98a7f-151">Feel free to select whichever modes you wish, then **Compile** and **Save** Board.</span></span> 

![Agregar un manipulador genérico](images/unreal-uxt/4-addmanip.PNG)

![Establecer el modo](images/unreal-uxt/4-setrotmode.PNG)

3.  <span data-ttu-id="98a7f-154">Repite los pasos anteriores para el actor WhiteKing.</span><span class="sxs-lookup"><span data-stu-id="98a7f-154">Repeat the steps above for the WhiteKing Actor.</span></span>

<span data-ttu-id="98a7f-155">Para obtener más información sobre los componentes del manipulador del complemento UX Tools de MRTK, visita la [documentación](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/Manipulator.html) oficial.</span><span class="sxs-lookup"><span data-stu-id="98a7f-155">For more information about the Manipulator Components provided in the MRTK UX Tools plugin, visit the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/Manipulator.html).</span></span>

## <a name="test-out-your-scene-with-simulated-hands"></a><span data-ttu-id="98a7f-156">Prueba de la escena con manos simuladas</span><span class="sxs-lookup"><span data-stu-id="98a7f-156">Test out your scene with simulated hands</span></span>

1.  <span data-ttu-id="98a7f-157">En la ventana principal, presiona **Play** (Jugar).</span><span class="sxs-lookup"><span data-stu-id="98a7f-157">In the Main window, press **Play**.</span></span> <span data-ttu-id="98a7f-158">Deberías ver las dos manos de la malla que proporciona el complemento UX Tools de MRTK, con haces de mano que se extienden desde la palma de cada mano.</span><span class="sxs-lookup"><span data-stu-id="98a7f-158">You should see two mesh hands provided by the MRTK UX Tools plugin, with hand rays extending from each hand’s palm!</span></span> 

![Manos simuladas en la ventanilla](images/unreal-uxt/4-handsim.PNG)

2.  <span data-ttu-id="98a7f-160">Para controlar la **mano derecha**, mantén presionado el botón **Alt izquierdo**.</span><span class="sxs-lookup"><span data-stu-id="98a7f-160">To control the **right hand**, hold down the **left Alt** button.</span></span> <span data-ttu-id="98a7f-161">Mueve el ratón para mover la mano.</span><span class="sxs-lookup"><span data-stu-id="98a7f-161">Move your mouse to move the hand.</span></span> <span data-ttu-id="98a7f-162">Desplázate con la **rueda del ratón** para mover la mano **hacia adelante** o **hacia atrás**.</span><span class="sxs-lookup"><span data-stu-id="98a7f-162">Scroll with your **mouse wheel** to move the hand **forwards** or **backwards**.</span></span> <span data-ttu-id="98a7f-163">Haz clic con el botón principal del ratón para **reducir** o clic en el botón central del ratón para **tocar**.</span><span class="sxs-lookup"><span data-stu-id="98a7f-163">Click your left mouse to **pinch**, click the middle mouse button to **poke**.</span></span>

3.  <span data-ttu-id="98a7f-164">Para controlar la **mano izquierda**, mantén presionado el botón **tecla Mayús**.</span><span class="sxs-lookup"><span data-stu-id="98a7f-164">To control the **left hand**, hold down the **left Shift** button.</span></span> <span data-ttu-id="98a7f-165">Los controles para mover la mano izquierda son los mismos que para la mano derecha.</span><span class="sxs-lookup"><span data-stu-id="98a7f-165">The controls for moving the left hand are the same as those for the right hand.</span></span> 

4.  <span data-ttu-id="98a7f-166">Ahora, prueba a usar las manos simuladas para seleccionar, mover y colocar el rey blanco del ajedrez.</span><span class="sxs-lookup"><span data-stu-id="98a7f-166">Now try using the simulated hands to pick up, move, and set down the white chess king.</span></span> <span data-ttu-id="98a7f-167">También puedes manipular el tablero.</span><span class="sxs-lookup"><span data-stu-id="98a7f-167">You can also manipulate the board!</span></span> <span data-ttu-id="98a7f-168">Experimenta con la interacción de cerca y de lejos: observa que, cuando las manos se acercan lo suficiente como para agarrar el tablero y el rey directamente, el haz de mano desaparece y se reemplaza con un cursor en forma de dedo en la punta del índice.</span><span class="sxs-lookup"><span data-stu-id="98a7f-168">Experiment with both near and far interaction- notice that when your hands get close enough to grab the board and king directly, the hand ray disappears and is replaced with a finger cursor on the index tip.</span></span> 

<span data-ttu-id="98a7f-169">Para obtener más información sobre la característica de manos simuladas que ofrece el complemento UX Tools de MRTK, visita la [documentación](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/InputSimulation.html) oficial.</span><span class="sxs-lookup"><span data-stu-id="98a7f-169">For more information about the simulated hands feature provided by the MRTK UX Tools plugin, visit the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/InputSimulation.html).</span></span>

[<span data-ttu-id="98a7f-170">Sección siguiente: 5. Adición de un botón y restablecimiento de las ubicaciones de las piezas</span><span class="sxs-lookup"><span data-stu-id="98a7f-170">Next Section: 5. Adding a button & resetting piece locations</span></span>](unreal-uxt-ch5.md)