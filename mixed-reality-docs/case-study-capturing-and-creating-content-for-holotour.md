---
title: 'Caso práctico: capturar y crear contenido para HoloTour'
description: HoloTour para Microsoft HoloLens proporciona paseos personales 3D envolventes icónica ubicaciones en todo el mundo.
author: DannyAskew
ms.author: daaske
ms.date: 03/21/2018
ms.topic: article
keywords: Windows HoloTour, HoloLens, la realidad mixta
ms.openlocfilehash: 6c9e5f44c439310883c8b0271187a7b2263b0854
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/12/2019
ms.locfileid: "59597637"
---
# <a name="case-study---capturing-and-creating-content-for-holotour"></a><span data-ttu-id="0307f-104">Caso práctico: capturar y crear contenido para HoloTour</span><span class="sxs-lookup"><span data-stu-id="0307f-104">Case study - Capturing and creating content for HoloTour</span></span>

<span data-ttu-id="0307f-105">HoloTour para Microsoft HoloLens proporciona paseos personales 3D envolventes icónica ubicaciones en todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="0307f-105">HoloTour for Microsoft HoloLens provides immersive 3D personal tours of iconic locations around the world.</span></span> <span data-ttu-id="0307f-106">Como los diseñadores, artistas, productores, diseñadores de audio y los desarrolladores que trabajan en este proyecto ha descubierto, creación de una representación en 3D convincingly real de una ubicación conocida toma una combinación única de la magia creativa y tecnológica.</span><span class="sxs-lookup"><span data-stu-id="0307f-106">As the designers, artists, producers, audio designers, and developers working on this project found out, creating a convincingly real 3D rendering of a well-known location takes a unique blend of creative and technological wizardry.</span></span>

## <a name="the-tech"></a><span data-ttu-id="0307f-107">La tecnología</span><span class="sxs-lookup"><span data-stu-id="0307f-107">The tech</span></span>

<span data-ttu-id="0307f-108">Con HoloTour, queríamos hacer posible que las personas que visite algunos de los destinos más asombrosos del mundo, como el [ruinas de Machu Pichu](https://en.wikipedia.org/wiki/Machu_Picchu) en Perú o el día modernas [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) en Italia, directamente desde sus propias salas de estar.</span><span class="sxs-lookup"><span data-stu-id="0307f-108">With HoloTour, we wanted to make it possible for people to visit some of the world’s most amazing destinations—like the [ruins of Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) in Peru or the modern day [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) in Italy—right from their own living rooms.</span></span> <span data-ttu-id="0307f-109">Nuestro equipo hizo el objetivo de HoloTour "hacerla sentir como que está realmente ahí."</span><span class="sxs-lookup"><span data-stu-id="0307f-109">Our team made it the goal of HoloTour to “make you feel like you’re really there.”</span></span> <span data-ttu-id="0307f-110">La experiencia necesaria para ser algo más que imágenes o vídeos.</span><span class="sxs-lookup"><span data-stu-id="0307f-110">The experience needed to be more than just pictures or videos.</span></span> <span data-ttu-id="0307f-111">Mediante el aprovechamiento de la presentación únicos, el seguimiento y la tecnología de audio de HoloLens se consideró que nos podríamos prácticamente de transporte, en otro lugar.</span><span class="sxs-lookup"><span data-stu-id="0307f-111">By leveraging the unique display, tracking, and audio technology of HoloLens we believed we could virtually transport you to another place.</span></span> <span data-ttu-id="0307f-112">Necesitamos capturar el punto de mira, sonidos y geometría tridimensional de todas las ubicaciones se visitado y, a continuación, volver a crear que dentro de nuestra aplicación.</span><span class="sxs-lookup"><span data-stu-id="0307f-112">We would need to capture the sights, sounds, and three-dimensional geometry of every location we visited and then recreate that within our app.</span></span>

<span data-ttu-id="0307f-113">Para ello, necesitamos una cámara de 360 ° plataforma con la captura de audio direccional.</span><span class="sxs-lookup"><span data-stu-id="0307f-113">In order to do this, we needed a 360° camera rig with directional audio capture.</span></span> <span data-ttu-id="0307f-114">Necesitaba capturar en muy alta resolución, por lo que tendría un aspecto nítida cuando reproduce en un HoloLens el material de archivo y las cámaras deberá colocarse juntos con el fin de minimizar los artefactos de combinación.</span><span class="sxs-lookup"><span data-stu-id="0307f-114">It needed to capture at extremely high resolution, so that the footage would look crisp when played back on a HoloLens and the cameras would need to be positioned close together in order to minimize stitching artifacts.</span></span> <span data-ttu-id="0307f-115">Queríamos esférica completa cobertura, no solo en el horizonte, pero por encima y debajo de usted también.</span><span class="sxs-lookup"><span data-stu-id="0307f-115">We wanted full spherical coverage, not just along the horizon, but above and below you as well.</span></span> <span data-ttu-id="0307f-116">La plataforma de pruebas también es necesario para ser portátil, de modo que nos podríamos aprovechar todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="0307f-116">The rig also needed to be portable so that we could take it all over the world.</span></span> <span data-ttu-id="0307f-117">Se evalúan las opciones disponibles de listos para usar y producidas simplemente no lo suficientemente buenas para hacer realidad nuestra visión: ya sea debido a la resolución, el costo o el tamaño.</span><span class="sxs-lookup"><span data-stu-id="0307f-117">We evaluated available off-the-shelf options and realized they simply weren’t good enough to realize our vision – either because of resolution, cost, or size.</span></span> <span data-ttu-id="0307f-118">No pudimos encontrar una plataforma de cámara que satisface las necesidades de nuestros, tendríamos creado uno nosotros mismos.</span><span class="sxs-lookup"><span data-stu-id="0307f-118">If we couldn’t find a camera rig that satisfied our needs, we would have to build one ourselves.</span></span>

### <a name="building-the-rig"></a><span data-ttu-id="0307f-119">Creación de la plataforma de pruebas</span><span class="sxs-lookup"><span data-stu-id="0307f-119">Building the rig</span></span>

<span data-ttu-id="0307f-120">La primera versión, realizadas desde cartulina, Velcro, conducto 14 cámaras GoPro y cinta, fue algo MacGyver habría sido me siento orgulloso de.</span><span class="sxs-lookup"><span data-stu-id="0307f-120">The first version—made from cardboard, Velcro, duct tape, and 14 GoPro cameras—was something MacGyver would have been proud of.</span></span> <span data-ttu-id="0307f-121">Después de revisar todo, desde soluciones low-end para las plataformas fabricadas personalizadas, cámaras GoPro eran en última instancia, la mejor opción para nosotros porque fueron pequeños, asequible y tenía almacenamiento fácil de usar memoria.</span><span class="sxs-lookup"><span data-stu-id="0307f-121">After reviewing everything from low-end solutions to custom manufactured rigs, GoPro cameras were ultimately the best option for us because they were small, affordable, and had easy-to-use memory storage.</span></span> <span data-ttu-id="0307f-122">El factor de forma pequeño era especialmente importante ya que nos ha permitido colocar las cámaras bastante juntos: cuanto menor sea la distancia entre las cámaras, menor será la combinación artefactos estarán.</span><span class="sxs-lookup"><span data-stu-id="0307f-122">The small form factor was especially important because it allowed us to place cameras fairly close together—the smaller the distance between cameras, the smaller the stitching artifacts will be.</span></span> <span data-ttu-id="0307f-123">Nuestra organización de cámara único nos ha permitido lograr cobertura completa esfera *plus* superposición suficiente para alinear las cámaras y suavizar algunos artefactos durante el proceso de creación de forma inteligente.</span><span class="sxs-lookup"><span data-stu-id="0307f-123">Our unique camera arrangement allowed us to get full sphere coverage *plus* enough overlap to intelligently align cameras and smooth out some artifacts during the stitching process.</span></span>

<span data-ttu-id="0307f-124">Aprovechar la [sonido espacial](spatial-sound.md) capacidades en HoloLens es fundamental para crear una experiencia envolvente convincingly real.</span><span class="sxs-lookup"><span data-stu-id="0307f-124">Taking advantage of the [spatial sound](spatial-sound.md) capabilities on HoloLens is critical to creating a convincingly real immersive experience.</span></span> <span data-ttu-id="0307f-125">Utilizamos una matriz de cuatro micrófono situada debajo de las cámaras en el trípode, lo que podría capturar sonidos desde la ubicación de la cámara en cuatro direcciones, que nos da información suficiente para crear sonidos espaciales en nuestro segundo plano.</span><span class="sxs-lookup"><span data-stu-id="0307f-125">We used a four-microphone array situated beneath the cameras on the tripod, which would capture sound from the location of our camera in four directions, giving us enough information to create spatial sounds in our scenes.</span></span>

![Nuestra plataforma de cámara de 360° se configure para grabación fuera el Pantheon.](images/camera-pantheon-200px.png)

<span data-ttu-id="0307f-127">Nuestra plataforma de cámara de 360° se configure para grabación fuera el Pantheon.</span><span class="sxs-lookup"><span data-stu-id="0307f-127">Our 360° camera rig set up for filming outside the Pantheon.</span></span> 


<span data-ttu-id="0307f-128">Hemos probado out nuestra plataforma casero tomando hasta Rattlesnake Ridge cerca de Seattle, capturar el escenario en la parte superior de la montar.</span><span class="sxs-lookup"><span data-stu-id="0307f-128">We tested out our homemade rig by taking it up to Rattlesnake Ridge near Seattle, capturing the scenery at the top of the hike.</span></span> <span data-ttu-id="0307f-129">El resultado, aunque mucho menos perfeccionado de las ubicaciones que se ve en HoloTour hoy en día, nos dio confianza que era lo suficientemente buena para hacerla sentir como que está realmente ahí nuestro diseño de la plataforma de pruebas.</span><span class="sxs-lookup"><span data-stu-id="0307f-129">The result, though significantly less polished than the locations you see in HoloTour today, gave us confidence that our rig design was good enough to make you feel like you’re really there.</span></span>

<span data-ttu-id="0307f-130">Hemos actualizado nuestra plataforma de pruebas desde Velcro y cartulina para una carcasa de cámara 3D impresa y compró paquetes externos de la batería para las cámaras GoPro simplificar la administración de la batería.</span><span class="sxs-lookup"><span data-stu-id="0307f-130">We upgraded our rig from Velcro and cardboard to a 3D-printed camera housing and bought external battery packs for the GoPro cameras to simplify battery management.</span></span> <span data-ttu-id="0307f-131">A continuación, hicimos una prueba más amplia, viaja hasta San Francisco para crear un paseo en miniatura de la costa de la ciudad y el puente de Golden Gate icónico.</span><span class="sxs-lookup"><span data-stu-id="0307f-131">We then did a more extensive test, traveling down to San Francisco to create a miniature tour of the city’s coast and the iconic Golden Gate bridge.</span></span> <span data-ttu-id="0307f-132">Esta plataforma de pruebas de la cámara es lo que se usa para la mayoría de nuestras capturas de las ubicaciones que visita en HoloTour.</span><span class="sxs-lookup"><span data-stu-id="0307f-132">This camera rig is what we used for most of our captures of the locations you visit in HoloTour.</span></span>

![La plataforma de cámara de 360° grabando in Machu Pichu.](images/camera-machu-pichu-500px.png)

<span data-ttu-id="0307f-134">La plataforma de cámara de 360° grabando in Machu Pichu.</span><span class="sxs-lookup"><span data-stu-id="0307f-134">The 360° camera rig filming in Machu Picchu.</span></span> 


## <a name="behind-the-scenes"></a><span data-ttu-id="0307f-135">En segundo plano</span><span class="sxs-lookup"><span data-stu-id="0307f-135">Behind the scenes</span></span>

<span data-ttu-id="0307f-136">Antes de la grabación, se necesitan para out las ubicaciones que deseamos incluir en nuestra visita virtual.</span><span class="sxs-lookup"><span data-stu-id="0307f-136">Before filming, we needed to figure out which locations we wanted to include on our virtual tour.</span></span> <span data-ttu-id="0307f-137">Roma fue la primera ubicación que nos propusimos para el envío y queríamos que todo quede correcto, por lo que decidimos realizar una exploración de ida y vuelta de antemano.</span><span class="sxs-lookup"><span data-stu-id="0307f-137">Rome was the first location we intended to ship and we wanted to get it right, so we decided to do a scouting trip in advance.</span></span> <span data-ttu-id="0307f-138">Le hemos enviado un equipo de seis personas, incluidos los artistas, diseñadores y los productores, para una visita en persona a los sitios que estábamos pensando en.</span><span class="sxs-lookup"><span data-stu-id="0307f-138">We sent a team of six people—including artists, designers, and producers—for an in-person visit to the sites we were considering.</span></span> <span data-ttu-id="0307f-139">El recorrido se tardó aproximadamente 9 días – 2.5 de viaje, el resto de la grabación.</span><span class="sxs-lookup"><span data-stu-id="0307f-139">The trip took about 9 days – 2.5 for travel, the rest for filming.</span></span> <span data-ttu-id="0307f-140">(Para Machu Pichu hemos optado por no para hacer un viaje de scout, investigación de antemano y unos días de búfer para la grabación de reserva.)</span><span class="sxs-lookup"><span data-stu-id="0307f-140">(For Machu Picchu we opted not to do a scout trip, researching in advance and booking a few days of buffer for filming.)</span></span>

<span data-ttu-id="0307f-141">Mientras esté en Roma, el equipo tuvo las fotos de cada área y anotado datos interesantes, así como consideraciones prácticas, como lo difícil que resulta de viaje a cada zona y la dificultad que sería película debido a restricciones o muchedumbres.</span><span class="sxs-lookup"><span data-stu-id="0307f-141">While in Rome, the team took photos of each area and noted interesting facts as well as practical considerations, such as how hard it is to travel to each spot and how difficult it would be to film because of crowds or restrictions.</span></span> <span data-ttu-id="0307f-142">Esto puede parecer unas vacaciones, pero resulta mucho trabajo.</span><span class="sxs-lookup"><span data-stu-id="0307f-142">This may sound like a vacation, but it’s a lot of work.</span></span> <span data-ttu-id="0307f-143">Días se inicia al principio de la mañana e iría continuo hasta la noche.</span><span class="sxs-lookup"><span data-stu-id="0307f-143">Days started early in the morning and would go non-stop until evening.</span></span> <span data-ttu-id="0307f-144">Todas las noches, material de archivo se ha cargado para el equipo en Seattle para revisar.</span><span class="sxs-lookup"><span data-stu-id="0307f-144">Each night, footage was uploaded for the team back in Seattle to review.</span></span> 

![Nuestro equipo de captura en Roma.](images/holotour-filming-crew-rome-500px.jpg) 

<span data-ttu-id="0307f-146">Nuestro equipo de captura en Roma.</span><span class="sxs-lookup"><span data-stu-id="0307f-146">Our capture crew in Rome.</span></span> 


<span data-ttu-id="0307f-147">Una vez completado la ida y vuelta scout, un plan final se realizó para grabación real.</span><span class="sxs-lookup"><span data-stu-id="0307f-147">After the scout trip was completed, a final plan was made for actual filming.</span></span> <span data-ttu-id="0307f-148">Esto requiere una lista detallada de donde que íbamos a una película, qué día y en qué momento.</span><span class="sxs-lookup"><span data-stu-id="0307f-148">This required a detailed list of where we were going to film, on what day, and at what time.</span></span> <span data-ttu-id="0307f-149">Cada día extranjero es costosa, por lo que necesita estos viajes sean eficaces.</span><span class="sxs-lookup"><span data-stu-id="0307f-149">Every day overseas is expensive, so these trips needed to be efficient.</span></span> <span data-ttu-id="0307f-150">Hemos reservado las guías y los controladores en Roma para ayudarnos a y había usado por completo todos los días antes de Amanecer para después de la vigencia de.</span><span class="sxs-lookup"><span data-stu-id="0307f-150">We booked guides and handlers in Rome to help us and fully used every day from before sunrise to after sunset.</span></span> <span data-ttu-id="0307f-151">Debemos obtener el mejor material de archivo posibles con el fin de hacerla sentir como que está realmente ahí.</span><span class="sxs-lookup"><span data-stu-id="0307f-151">We need to get the best footage possible in order to make you feel like you’re really there.</span></span>

### <a name="capturing-the-video"></a><span data-ttu-id="0307f-152">Captura de vídeo</span><span class="sxs-lookup"><span data-stu-id="0307f-152">Capturing the video</span></span>

<span data-ttu-id="0307f-153">Realizar unas cuantas cosas durante la captura puede hacer mucho más fácil el procesamiento posterior.</span><span class="sxs-lookup"><span data-stu-id="0307f-153">Doing a few simple things during capture can make post-processing much easier.</span></span> <span data-ttu-id="0307f-154">Por ejemplo, cada vez que unir imágenes desde múltiples cámaras, terminará con artefactos visuales porque cada cámara tiene una vista ligeramente diferente.</span><span class="sxs-lookup"><span data-stu-id="0307f-154">For example, whenever you stitch together images from multiple cameras, you end up with visual artifacts because each camera has a slightly different view.</span></span> <span data-ttu-id="0307f-155">Los objetos de más de cerca son a la cámara, mayor será la diferencia entre las vistas, y mayor será la combinación de artefactos.</span><span class="sxs-lookup"><span data-stu-id="0307f-155">The closer objects are to the camera, the larger the difference between the views, and the larger the stitching artifacts will be.</span></span> <span data-ttu-id="0307f-156">Aquí es una forma sencilla para visualizar el problema: retener el pulgar delante de nuestras narices y mirar con solo un efecto de ojos.</span><span class="sxs-lookup"><span data-stu-id="0307f-156">Here's an easy way to visualize the problem: hold your thumb up in front of your face and look at it with only one eye.</span></span> <span data-ttu-id="0307f-157">Ahora, cambie los ojos.</span><span class="sxs-lookup"><span data-stu-id="0307f-157">Now switch eyes.</span></span> <span data-ttu-id="0307f-158">Verá que aparece el control de posición para mover en relación con el fondo.</span><span class="sxs-lookup"><span data-stu-id="0307f-158">You’ll see that your thumb appears to move relative to the background.</span></span> <span data-ttu-id="0307f-159">Si mantiene el pulgar aún más lejos de la cara y repetir el experimento, aparecerá el pulgar a mueve menos.</span><span class="sxs-lookup"><span data-stu-id="0307f-159">If you hold your thumb further away from your face and repeat the experiment, your thumb will appear to move less.</span></span> <span data-ttu-id="0307f-160">Es evidente movimiento es similar a la combinación problema nos enfrentamos: Los ojos, al igual que nuestra cámaras, no ven exactamente la misma imagen porque están separados por una pequeña distancia.</span><span class="sxs-lookup"><span data-stu-id="0307f-160">That apparent movement is similar to the stitching problem we faced: Your eyes, like our cameras, don’t see the exact same image because they are separated by a little distance.</span></span>

<span data-ttu-id="0307f-161">Dado que es mucho más fácil de evitar que el peor de los artefactos durante la grabación de corregirlos en el procesamiento posterior, intentamos mantener las personas y las cosas muy lejos de la cámara con la esperanza que podríamos eliminar la necesidad de que se deben combinar objetos de primer planos.</span><span class="sxs-lookup"><span data-stu-id="0307f-161">Because it’s much easier to prevent the worst artifacts while filming than it is to correct them in post-processing, we tried to keep people and things far away from the camera in the hopes we could eliminate the need to stitch close-up objects.</span></span> <span data-ttu-id="0307f-162">Mantener una compensación grande en torno a nuestro cámara probablemente fue uno de los mayores desafíos que teníamos durante la grabación y se tenía que ser creativos para que funcione.</span><span class="sxs-lookup"><span data-stu-id="0307f-162">Maintaining a large clearing around our camera was probably one of the biggest challenges we had during shooting and we had to get creative to make it work.</span></span> <span data-ttu-id="0307f-163">Trabajar con guías locales era una gran ayuda en la administración de muchedumbres, pero también descubrimos que usar firme y a veces pequeños conos o bolsas bean: marcar nuestro espacio rodaje era razonablemente eficaz, sobre todo porque solo necesitamos obtener una breve cantidad de material de archivo en cada ubicación.</span><span class="sxs-lookup"><span data-stu-id="0307f-163">Working with local guides was a huge help in managing crowds, but we also found that using signs—and sometimes small cones or bean bags—to mark our filming space was reasonably effective, especially since we only needed to get a short amount of footage at each location.</span></span> <span data-ttu-id="0307f-164">A menudo era solo para llegar muy pronto en la mañana, antes de la mayoría de las personas que aparecían la mejor manera de obtener una buena captura.</span><span class="sxs-lookup"><span data-stu-id="0307f-164">Often the best way to get a good capture was to just to arrive very early in the morning, before most people showed up.</span></span>

<span data-ttu-id="0307f-165">Algunas otras técnicas útiles captura proceden directamente de prácticas de películas tradicionales.</span><span class="sxs-lookup"><span data-stu-id="0307f-165">Some other useful capture techniques come straight from traditional film practices.</span></span> <span data-ttu-id="0307f-166">Por ejemplo, una tarjeta de corrección de color se utiliza en todas nuestras cámaras y las fotos de referencia capturada de texturas y los objetos que necesitemos más adelante.</span><span class="sxs-lookup"><span data-stu-id="0307f-166">For example, we used a color correction card on all of our cameras and captured reference photos of textures and objects we might need later.</span></span> 

![Un montaje inicial de Machu Pichu que muestra la tarjeta de corrección de color.](images/rough-cut-machu-picchu-500px.png)

<span data-ttu-id="0307f-168">Cortar aproximada del material de archivo de Pantheon antes de la unión.</span><span class="sxs-lookup"><span data-stu-id="0307f-168">A rough cut of Pantheon footage before stitching.</span></span>

### <a name="processing-the-video"></a><span data-ttu-id="0307f-169">Procesamiento del vídeo</span><span class="sxs-lookup"><span data-stu-id="0307f-169">Processing the video</span></span>

<span data-ttu-id="0307f-170">Capturar el contenido de 360° es sólo el primer paso, se necesita una gran cantidad de procesamiento para convertir las grabaciones de cámaras sin procesar se capturan en los activos finales se ve en HoloTour.</span><span class="sxs-lookup"><span data-stu-id="0307f-170">Capturing 360° content is only the first step—a lot of processing is needed to convert the raw camera footage we captured into the final assets you see in HoloTour.</span></span> <span data-ttu-id="0307f-171">Una vez que estábamos volver principal debíamos tomar el vídeo de 14 cámara diferentes fuentes de distribución y convertirlo en un único vídeo continuo con artefactos mínima.</span><span class="sxs-lookup"><span data-stu-id="0307f-171">Once we were back home we needed to take the video from 14 different camera feeds and turn it into a single continuous video with minimal artifacts.</span></span> <span data-ttu-id="0307f-172">Nuestro equipo de material gráfico usa una serie de herramientas para combinar y perfeccionar el material de archivo capturado y desarrollamos una canalización para optimizar el procesamiento tanto como sea posible.</span><span class="sxs-lookup"><span data-stu-id="0307f-172">Our art team used a number of tools to combine and polish the captured footage and we developed a pipeline to optimize the processing as much as possible.</span></span> <span data-ttu-id="0307f-173">El material de archivo tenía que ser pegada color junto, corregido y, a continuación, compuesto para quitar distraer elementos y los artefactos o agregar bolsillos complementarios de vida y el movimiento, todo ello con el objetivo de mejorar esa sensación de estar realmente allí.</span><span class="sxs-lookup"><span data-stu-id="0307f-173">The footage had to be stitched together, color corrected, and then composited to remove distracting elements and artifacts or to add supplemental pockets of life and motion, all with the goal to enhance that feeling of actually being there.</span></span>

![Cortar aproximada del material de archivo de Pantheon antes de la unión.](images/rough-cut-pantheon-500px.png)

<span data-ttu-id="0307f-175">Cortar aproximada del material de archivo de Pantheon antes de la unión.</span><span class="sxs-lookup"><span data-stu-id="0307f-175">A rough cut of Pantheon footage before stitching.</span></span> 


<span data-ttu-id="0307f-176">Para unir los vídeos, hemos usado una herramienta denominada [PTGui](http://www.ptgui.com/) y se integra en nuestra canalización de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="0307f-176">To stitch the videos together, we used a tool called [PTGui](http://www.ptgui.com/) and integrated it into our processing pipeline.</span></span> <span data-ttu-id="0307f-177">Como parte del procesamiento posterior a la se extraen todavía marcos nuestros vídeos y encuentra un modelo de combinación que tenía bueno para uno de esos marcos.</span><span class="sxs-lookup"><span data-stu-id="0307f-177">As part of post-processing we extracted still frames from our videos and found a stitching pattern that looked good for one of those frames.</span></span> <span data-ttu-id="0307f-178">Se aplica, a continuación, ese patrón para un complemento personalizado que escribimos que permiten a nuestro vídeo artistas ajustar con precisión y ajustar el modelo de combinación durante la composición en After Effects.</span><span class="sxs-lookup"><span data-stu-id="0307f-178">We then applied that pattern to a custom plugin we wrote that allowed our video artists to fine tune and tweak the stitching pattern directly while compositing in After Effects.</span></span> 

![Captura de pantalla de PTGui que muestra el material de archivo de Pantheon unida.](images/stitching-tool-pantheon-500px.png)

<span data-ttu-id="0307f-180">Captura de pantalla de PTGui que muestra el material de archivo de Pantheon unida.</span><span class="sxs-lookup"><span data-stu-id="0307f-180">Screenshot of PTGui showing the stitched Pantheon footage.</span></span> 


### <a name="video-playback"></a><span data-ttu-id="0307f-181">Reproducción de vídeo</span><span class="sxs-lookup"><span data-stu-id="0307f-181">Video playback</span></span>

<span data-ttu-id="0307f-182">Después de que se complete el procesamiento del material de archivo, tenemos un vídeo sin problemas, pero es extraordinariamente grandes, resolución de aproximadamente 8 K.</span><span class="sxs-lookup"><span data-stu-id="0307f-182">After processing of the footage is completed, we have a seamless video but it’s extraordinarily large—around 8K resolution.</span></span> <span data-ttu-id="0307f-183">Descodificación de vídeo es costosa y hay muy pocos equipos que pueden controlar un vídeo de 8 KB, por lo que el siguiente desafío fue encontrar una manera de reproducir este vídeo en HoloLens.</span><span class="sxs-lookup"><span data-stu-id="0307f-183">Decoding video is expensive and there are very few computers that can handle an 8K video so the next challenge was finding a way to play this video back on HoloLens.</span></span> <span data-ttu-id="0307f-184">Hemos desarrollado varias estrategias para evitar el costo de descodificación al mismo tiempo que la sensación de usuario como la estaban viendo todo el vídeo.</span><span class="sxs-lookup"><span data-stu-id="0307f-184">We developed a number of strategies to avoid the cost of decoding while still making the user feel like they were viewing the entire video.</span></span>

<span data-ttu-id="0307f-185">La optimización más sencilla consiste en evitar las partes del vídeo que no cambian mucho la descodificación.</span><span class="sxs-lookup"><span data-stu-id="0307f-185">The easiest optimization is to avoid decoding parts of the video that don’t change much.</span></span> <span data-ttu-id="0307f-186">Se escribió una herramienta para identificar áreas en cada escena que tienen poco o ningún movimiento.</span><span class="sxs-lookup"><span data-stu-id="0307f-186">We wrote a tool to identify areas in each scene that have little or no motion.</span></span> <span data-ttu-id="0307f-187">Para dichas regiones se muestra una imagen estática en lugar de un vídeo de descodificación cada fotograma.</span><span class="sxs-lookup"><span data-stu-id="0307f-187">For those regions we show a static image rather than decoding a video each frame.</span></span> <span data-ttu-id="0307f-188">Para que esto sea posible, se divide el vídeo gran en fragmentos mucho menores.</span><span class="sxs-lookup"><span data-stu-id="0307f-188">To make this possible, we divided up the massive video into much smaller chunks.</span></span>

<span data-ttu-id="0307f-189">También se ha asegurado de que cada píxel que se puede descodificar se usaba la forma más eficaz.</span><span class="sxs-lookup"><span data-stu-id="0307f-189">We also made sure that every pixel we decoded was used most effectively.</span></span> <span data-ttu-id="0307f-190">Experimentamos con técnicas de compresión para reducir el tamaño del vídeo; dividimos el vídeo regiones con arreglo a los polígonos de la geometría ¿se proyectan en; hemos ajustado UVs y EE.UU los vídeos en función de cuánto polígonos diferentes de detalle incluidas.</span><span class="sxs-lookup"><span data-stu-id="0307f-190">We experimented with compression techniques to lower the size of the video; we split the video regions according to the polygons of the geometry it would be projected onto; we adjusted UVs and repacked the videos based on how much detail different polygons included.</span></span> <span data-ttu-id="0307f-191">El resultado de este trabajo es lo que comenzó como una sola 8k vídeo activa en muchos fragmentos que tienen un aspecto prácticamente ininteligibles hasta que estén correctamente, vuelva a proyectados en la escena.</span><span class="sxs-lookup"><span data-stu-id="0307f-191">The result of this work is that what started as a single 8k video turned into many chunks that look almost unintelligible until they are properly re-projected into the scene.</span></span> <span data-ttu-id="0307f-192">Para un desarrollador de juegos que entiende la asignación de textura y empaquetado de UV, probablemente se le resultarán familiar.</span><span class="sxs-lookup"><span data-stu-id="0307f-192">For a game developer who understands texture mapping and UV packing, this will probably look familiar.</span></span> 

![Una vista completa de la Pantheon antes de las optimizaciones.](images/pantheon-before-optimization-500px.png) 

<span data-ttu-id="0307f-194">Una vista completa de la Pantheon antes de las optimizaciones.</span><span class="sxs-lookup"><span data-stu-id="0307f-194">A full view of the Pantheon before optimizations.</span></span> 


![La mitad derecha de la Pantheon, procesado para la reproducción de vídeo.](images/pantheon-process-video-playback-500px.png) 

<span data-ttu-id="0307f-196">La mitad derecha de la Pantheon, procesado para la reproducción de vídeo.</span><span class="sxs-lookup"><span data-stu-id="0307f-196">The right half of the Pantheon, processed for video playback.</span></span> 


![Ejemplo de una sola región vídeo después de la optimización y mejora del empaquetado.](images/single-video-region-after-optimization-500px.png) 

<span data-ttu-id="0307f-198">Ejemplo de una sola región vídeo después de la optimización y mejora del empaquetado.</span><span class="sxs-lookup"><span data-stu-id="0307f-198">Example of a single video region after optimization and packing.</span></span> 


<span data-ttu-id="0307f-199">Otro truco que usamos fue evitar la descodificación de vídeo que no está viendo activamente.</span><span class="sxs-lookup"><span data-stu-id="0307f-199">Another trick we used was to avoid decoding video you aren’t actively viewing.</span></span> <span data-ttu-id="0307f-200">Mientras se encuentra en HoloTour, solo puede ver parte de la escena completa en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="0307f-200">While in HoloTour, you can only see part of the full scene at any given moment.</span></span> <span data-ttu-id="0307f-201">Sólo nos descodificar vídeos dentro o fuera de su campo de visión (FOV) que en breve.</span><span class="sxs-lookup"><span data-stu-id="0307f-201">We only decode videos within or shortly outside of your field of view (FOV).</span></span> <span data-ttu-id="0307f-202">Al girar la cabeza, se iniciará la reproducción de las regiones del vídeo que se encuentran ahora en su campo visual y detener la reproducción de los que ya no están dentro de él.</span><span class="sxs-lookup"><span data-stu-id="0307f-202">As you rotate your head, we start playing the regions of the video that are now in your FOV and stop playing ones that are no longer within it.</span></span> <span data-ttu-id="0307f-203">Mayoría de los usuarios incluso no tenga en cuenta que esto sucede, pero si activa en torno a rápidamente, podrá ver el vídeo tarda un segundo para iniciar, mientras tanto verá una imagen estática que fundidos, a continuación, hacer una copia vídeo una vez que esté listo.</span><span class="sxs-lookup"><span data-stu-id="0307f-203">Most people won’t even notice this is happening, but if you turn around rapidly, you’ll see the video takes a second to start— in the meantime you’ll see a static image which then fades back to video once it’s ready.</span></span>

<span data-ttu-id="0307f-204">Para que esta estrategia funcione desarrollamos un sistema de reproducción de vídeo extenso.</span><span class="sxs-lookup"><span data-stu-id="0307f-204">To make this strategy work we developed an extensive video playback system.</span></span> <span data-ttu-id="0307f-205">Hemos optimizado el código de reproducción de nivel bajo para asegurarse de vídeo cambiar extremadamente eficaz.</span><span class="sxs-lookup"><span data-stu-id="0307f-205">We optimized the low level playback code in order to make video switching extremely efficient.</span></span> <span data-ttu-id="0307f-206">Además, hemos tenido que codificar nuestros vídeos de una manera especial y le permite cambiar rápidamente a cualquier vídeo en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="0307f-206">Additionally, we had to encode our videos in a special way to make it possible to rapidly switch to any video at any time.</span></span> <span data-ttu-id="0307f-207">Esta canalización de reproducción tardó una cantidad considerable de tiempo de desarrollo, por lo que implementamos en fases.</span><span class="sxs-lookup"><span data-stu-id="0307f-207">This playback pipeline took a significant amount of development time so we implemented it in stages.</span></span> <span data-ttu-id="0307f-208">Comenzamos con un sistema más sencillo que era menos eficiente, pero los diseñadores permitidos y los artistas para trabajar en la experiencia y lentamente mejorada a un sistema más sólido de reproducción que nos ha permitido para el envío en la barra de calidad final.</span><span class="sxs-lookup"><span data-stu-id="0307f-208">We started with a simpler system that was less efficient, but allowed designers and artists to work on the experience, and slowly improved it to a more robust playback system that allowed us to ship at the final quality bar.</span></span> <span data-ttu-id="0307f-209">Este sistema final tenía herramientas personalizadas que hemos creado dentro de Unity para configurar el vídeo dentro de la escena y supervise el motor de reproducción.</span><span class="sxs-lookup"><span data-stu-id="0307f-209">This final system had custom tools we created within Unity to set up the video within the scene and monitor the playback engine.</span></span>

### <a name="recreating-near-space-objects-in-3d"></a><span data-ttu-id="0307f-210">Volver a crear objetos de cerca de espacio en 3D</span><span class="sxs-lookup"><span data-stu-id="0307f-210">Recreating near-space objects in 3D</span></span>

<span data-ttu-id="0307f-211">Vídeos constituyen la mayor parte de lo que ve en HoloTour, pero hay una serie de objetos 3D que aparecen cerca de usted, como la pintura en Piazza Navona, la fuente fuera el Pantheon o el globo de aire caliente que se representan segundo plano aéreo.</span><span class="sxs-lookup"><span data-stu-id="0307f-211">Videos make up the majority of what you see in HoloTour, but there are a number of 3D objects that appear close to you, such as the painting in Piazza Navona, the fountain outside the Pantheon, or the hot air balloon you stand in for aerial scenes.</span></span> <span data-ttu-id="0307f-212">Estos objetos 3D son importantes porque es muy buena de cerca la percepción humana de profundidad, pero no muy buena lejos.</span><span class="sxs-lookup"><span data-stu-id="0307f-212">These 3D objects are important because human depth perception is very good up close, but not very good far away.</span></span> <span data-ttu-id="0307f-213">Que podríamos conseguirlo con vídeo en la distancia, pero para permitir que los usuarios a caminar alrededor de su espacio y parezca que realmente existen, los objetos próximos necesitan profundidad.</span><span class="sxs-lookup"><span data-stu-id="0307f-213">We can get away with video in the distance, but to allow users to walk around their space and feel like they’re really there, nearby objects need depth.</span></span> <span data-ttu-id="0307f-214">Esta técnica es similar a la clase de cosas que puede aparecer en un Museo de historia natural, un diorama paisajismo físico, plantas y especímenes animales en primer plano, pero se aleja en un dibujo mate inteligentemente enmascarada en segundo plano de la imagen.</span><span class="sxs-lookup"><span data-stu-id="0307f-214">This technique is similar to the sort of thing you might see in a natural history museum—picture a diorama that has physical landscaping, plants, and animal specimens in the foreground, but recedes into a cleverly masked matte painting in the background.</span></span>

<span data-ttu-id="0307f-215">Algunos objetos son recursos 3D simplemente hemos creado y agregado a la escena para mejorar la experiencia.</span><span class="sxs-lookup"><span data-stu-id="0307f-215">Some objects are simply 3D assets we created and added to the scene to enhance the experience.</span></span> <span data-ttu-id="0307f-216">La pintura y el globo de aire caliente entran en esta categoría porque no estaban presentes cuando se graban.</span><span class="sxs-lookup"><span data-stu-id="0307f-216">The painting and the hot air balloon fall into this category because they weren’t present when we filmed.</span></span> <span data-ttu-id="0307f-217">Al igual que los activos de juego, se crearon de un intérprete en 3D de nuestro equipo y con textura adecuadamente.</span><span class="sxs-lookup"><span data-stu-id="0307f-217">Similar to game assets, they were created by a 3D artist on our team and textured appropriately.</span></span> <span data-ttu-id="0307f-218">Colocamos en nuestro segundo plano cerca de dónde está parado y el motor de juego puede reproducirlas en la muestra de HoloLens dos para que aparezcan como un objeto 3D.</span><span class="sxs-lookup"><span data-stu-id="0307f-218">We place these in our scenes near where you stand, and the game engine can render them to the two HoloLens displays so that they appear as a 3D object.</span></span>

<span data-ttu-id="0307f-219">Otros recursos, como la fuente fuera el Pantheon, son objetos reales que existen en las ubicaciones donde nos estamos grabar vídeo, pero para poner estos objetos fuera del vídeo y en 3D, tenemos que hacer varias cosas.</span><span class="sxs-lookup"><span data-stu-id="0307f-219">Other assets, like the fountain outside the Pantheon, are real objects that exist in the locations where we're shooting video, but to bring these objects out of the video and into 3D, we have to do a number of things.</span></span>

<span data-ttu-id="0307f-220">En primer lugar, necesitamos información adicional acerca de cada objeto.</span><span class="sxs-lookup"><span data-stu-id="0307f-220">First, we need additional information about each object.</span></span> <span data-ttu-id="0307f-221">Mientras se encuentra en la ubicación de la grabación, nuestro equipo captura una gran cantidad de material de referencia de estos objetos para que tendríamos suficiente detallada de las imágenes con precisión volver a crear las texturas.</span><span class="sxs-lookup"><span data-stu-id="0307f-221">While on location for filming, our team captured a lot of reference footage of these objects so that we would have enough detailed images to accurately recreate the textures.</span></span> <span data-ttu-id="0307f-222">El equipo también ha realizado una [photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) scan, que construye un modelo 3D entre docenas de imágenes en 2D, lo que nos proporciona un modelo aproximado del objeto a escala perfecto.</span><span class="sxs-lookup"><span data-stu-id="0307f-222">The team also performed a [photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) scan, which constructs a 3D model from dozens of 2D images, giving us a rough model of the object at perfect scale.</span></span>

<span data-ttu-id="0307f-223">Estamos procesando nuestro material de archivo, se quitan los objetos que más adelante se reemplazará con una representación 3D del vídeo.</span><span class="sxs-lookup"><span data-stu-id="0307f-223">As we process our footage, objects that will later be replaced with a 3D representation are removed from the video.</span></span> <span data-ttu-id="0307f-224">Los activos 3D están basado en el modelo photogrammetry pero limpia y simplificado por nuestro artistas.</span><span class="sxs-lookup"><span data-stu-id="0307f-224">The 3D asset is based on the photogrammetry model but cleaned up and simplified by our artists.</span></span> <span data-ttu-id="0307f-225">Algunos objetos, podemos usar las partes del vídeo, por ejemplo, la textura de agua en la fuente, pero la mayoría de la fuente es ahora un objeto 3D, que permite a los usuarios percibir la profundidad y andar en un espacio limitado en la experiencia.</span><span class="sxs-lookup"><span data-stu-id="0307f-225">For some objects, we can use parts of the video—such as the water texture on the fountain—but most of the fountain is now a 3D object, which allows users to perceive depth and walk around it in a limited space in the experience.</span></span> <span data-ttu-id="0307f-226">Tener objetos cerca de espacio similar al siguiente en gran medida se agrega a la sensación de realismo y ayuda a hacer que los usuarios en la ubicación virtual.</span><span class="sxs-lookup"><span data-stu-id="0307f-226">Having near-space objects like this greatly adds to the sense of realism and helps to ground the users in the virtual location.</span></span> 

![Quita el material de archivo de pantheon con la fuente.](images/object-removal-pantheon-500px.png)

<span data-ttu-id="0307f-229">Quita el material de archivo de pantheon con la fuente.</span><span class="sxs-lookup"><span data-stu-id="0307f-229">Pantheon footage with the fountain removed.</span></span> <span data-ttu-id="0307f-230">Se reemplazará con un recurso de 3D.</span><span class="sxs-lookup"><span data-stu-id="0307f-230">It will be replaced with a 3D asset.</span></span>


## <a name="final-thoughts"></a><span data-ttu-id="0307f-231">Observaciones finales</span><span class="sxs-lookup"><span data-stu-id="0307f-231">Final thoughts</span></span>

<span data-ttu-id="0307f-232">Obviamente, hubo más a la creación de contenido que lo que hemos descrito aquí.</span><span class="sxs-lookup"><span data-stu-id="0307f-232">Obviously, there was more to creating this content than what we've discussed here.</span></span> <span data-ttu-id="0307f-233">Hay unos escenas, nos gusta llamarlos "imposibles perspectivas", incluyendo luchar contra el manejo de globo de aire caliente y el gladiator en el Colosseum, lo que llevó un enfoque más creativo.</span><span class="sxs-lookup"><span data-stu-id="0307f-233">There are a few scenes—we like to call them "impossible perspectives"—including the hot air balloon ride and the gladiator fight in the Colosseum, which took a more creative approach.</span></span> <span data-ttu-id="0307f-234">Trataremos estas opciones en un caso práctico futuras.</span><span class="sxs-lookup"><span data-stu-id="0307f-234">We'll address these in a future case study.</span></span>

<span data-ttu-id="0307f-235">Esperamos que compartir las soluciones a algunos de los desafíos más grandes que teníamos durante la producción es útil para otros desarrolladores y que está lleno de inspiración para utilizar algunas de estas técnicas para crear sus propias experiencias envolventes para HoloLens.</span><span class="sxs-lookup"><span data-stu-id="0307f-235">We hope that sharing solutions to some of the bigger challenges we had during production is helpful to other developers and that you're inspired to use some of these techniques to create your own immersive experiences for HoloLens.</span></span> <span data-ttu-id="0307f-236">(Y si, asegúrese de que comparta con nosotros en el [foro de HoloLens App Development](https://forums.hololens.com/)!)</span><span class="sxs-lookup"><span data-stu-id="0307f-236">(And if you do, please make sure to share it with us on the [HoloLens App Development forum](https://forums.hololens.com/)!)</span></span>

## <a name="about-the-authors"></a><span data-ttu-id="0307f-237">Acerca de los autores</span><span class="sxs-lookup"><span data-stu-id="0307f-237">About the authors</span></span>

<table style="border:0">
<tr>
<td style="border:0" width="60px"> <img alt="David Haley" width="60" height="60" src="images/haley.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="0307f-238"><b>David Haley</b> es un desarrollador sénior que aprendió más acerca de las plataformas de cámara y reproducción de vídeo de pensó que sea posible de trabajando HoloTour.</span><span class="sxs-lookup"><span data-stu-id="0307f-238"><b>David Haley</b> is a Senior Developer who learned more about camera rigs and video playback than he thought possible from working on HoloTour.</span></span></td>
<td style="border:0" width="60px"> <img alt="Danny Askew" width="60" height="60" src="images/askew.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="0307f-239"><b>Danny torcidas</b> es un artista de vídeo que asegurado de que su viaje a través de Roma fue como sin errores como sea posible.</span><span class="sxs-lookup"><span data-stu-id="0307f-239"><b>Danny Askew</b> is a Video Artist who made sure your journey through Rome was as flawless as possible.</span></span></td>
</tr>
<tr>
<td style="border:0" width="60px"> <img alt="Jason Syltebo" width="60" height="60" src="images/syltebo.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="0307f-240"><b>Jason Syltebo</b> es un diseñador de Audio y asegurado de que puede experimentar el soundscape de cada destino visita, incluso cuando retroceder en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="0307f-240"><b>Jason Syltebo</b> is an Audio Designer who made sure you could experience the soundscape of every destination you visit, even when you go back in time.</span></span></td>
<td style="border:0" width="60px"> <img alt="Travis Steiner" width="60" height="60" src="images/steiner.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="0307f-241"><b>Travis Steiner</b> es un Director de diseño que investigado y scouted ubicaciones, crea planes de viajes y dirige la grabación en el sitio.</span><span class="sxs-lookup"><span data-stu-id="0307f-241"><b>Travis Steiner</b> is a Design Director who researched and scouted locations, created trip plans, and directed filming on site.</span></span></td>
</tr>
</table>



## <a name="see-also"></a><span data-ttu-id="0307f-242">Vea también</span><span class="sxs-lookup"><span data-stu-id="0307f-242">See also</span></span>
* [<span data-ttu-id="0307f-243">Vídeo: Microsoft HoloLens: HoloTour</span><span class="sxs-lookup"><span data-stu-id="0307f-243">Video: Microsoft HoloLens: HoloTour</span></span>](https://www.youtube.com/watch?v=pLd9WPlaMpY)
