---
title: Módulo de ASA de aprendizaje de MR Azure delimitador espaciales en HoloLens 2
description: Haz este curso para aprender a implementar Azure Face Recognition dentro de una aplicación de realidad mixta.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 4dc36aec4d885fa75ea490446c2d682264049725
ms.sourcegitcommit: 30246ab9b9be44a3c707061753e53d4bf401eb6b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/22/2019
ms.locfileid: "67327808"
---
# <a name="persistence-and-sharing-of-azure-spatial-anchors"></a><span data-ttu-id="60794-104">Persistencia y el uso compartido de Azure delimitadores espaciales</span><span class="sxs-lookup"><span data-stu-id="60794-104">Persistence and Sharing of Azure Spatial Anchors</span></span>

<span data-ttu-id="60794-105">En esta lección, aprenderemos cómo conservar nuestro delimitadores espacial de Azure en varias sesiones de aplicación guardando nuestra información de anclaje en el disco del 2 de HoloLens.</span><span class="sxs-lookup"><span data-stu-id="60794-105">In this lesson, we will learn how to persist our Azure Spatial Anchors across multiple app sessions by saving our anchor information to the HoloLens 2's disk.</span></span> <span data-ttu-id="60794-106">También aprenderá cómo compartir esta información de anclaje para otros dispositivos para la alineación de un delimitador de varios dispositivos.</span><span class="sxs-lookup"><span data-stu-id="60794-106">We will also learn how to share this anchor information to other devices for a multi-device anchor alignment.</span></span>

## <a name="objectives"></a><span data-ttu-id="60794-107">Objetivos</span><span class="sxs-lookup"><span data-stu-id="60794-107">Objectives</span></span>

* <span data-ttu-id="60794-108">Obtenga información sobre cómo guardar y recuperar información espacial delimitador de Azure desde el disco local de HoloLens 2, para la persistencia entre sesiones de aplicación</span><span class="sxs-lookup"><span data-stu-id="60794-108">Learn how to save and retrieve Azure Spatial Anchor information from the HoloLens 2 local disk, for persistence between app sessions</span></span>

* <span data-ttu-id="60794-109">Obtenga información sobre cómo compartir información de Azure espacial delimitador entre los usuarios en un escenario de varios dispositivo</span><span class="sxs-lookup"><span data-stu-id="60794-109">Learn how to share Azure Spatial Anchor information between users in a multi-device scenario</span></span>

  

## <a name="instructions"></a><span data-ttu-id="60794-110">Instrucciones</span><span class="sxs-lookup"><span data-stu-id="60794-110">Instructions</span></span>

### <a name="persist-azure-anchors-between-app-sessions---save-anchor-id-to-disk"></a><span data-ttu-id="60794-111">Conservar delimitadores de Azure entre sesiones de aplicación: identificador de delimitador en el disco de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="60794-111">Persist Azure Anchors Between App Sessions - Save Anchor ID to Disk</span></span>

1. <span data-ttu-id="60794-112">Buscar y agregar el recurso prefabricado "SaveAnchorToDisk" a la escena.</span><span class="sxs-lookup"><span data-stu-id="60794-112">Search for and add the "SaveAnchorToDisk" prefab to your scene.</span></span> <span data-ttu-id="60794-113">Estos incluyen dos botones, un botón para guardar los identificadores de delimitador de Azure disponibles en el disco 2 de HoloLens y otro para recuperar los identificadores desde el disco.</span><span class="sxs-lookup"><span data-stu-id="60794-113">These include two buttons, one button for saving any available Azure Anchor IDs to the HoloLens 2 disk, and another for retrieving any IDs from the disk.</span></span>

   ![module2chapter2step1im](images/module2chapter2step1im.PNG)

2. <span data-ttu-id="60794-115">Configure cada botón según las instrucciones siguientes</span><span class="sxs-lookup"><span data-stu-id="60794-115">Configure Each button according to the instructions below</span></span>
   - <span data-ttu-id="60794-116">Para el botón denominado "SaveToDisk", cree un nuevo evento en el desencadenador de eventos "Botón presionado", así como el desencadenador de eventos "En Click".</span><span class="sxs-lookup"><span data-stu-id="60794-116">For the Button named "SaveToDisk", create a new event under the "Button Pressed" event trigger as well as the "On Click" event trigger.</span></span> <span data-ttu-id="60794-117">Arrastre el objeto ParentAnchor en el campo vacío y asignar el método SaveAzureAnchorIDToDisk() del componente de ASAmoduleScript ParentAnchor del objeto.</span><span class="sxs-lookup"><span data-stu-id="60794-117">Drag the ParentAnchor object into the empty field, and assign the SaveAzureAnchorIDToDisk() method from the ParentAnchor Object's ASAmoduleScript component.</span></span>
   
     > <span data-ttu-id="60794-118">Nota: algunos de los botones pueden aparecer la superposición de los otros botones de la escena.</span><span class="sxs-lookup"><span data-stu-id="60794-118">Note: some of the buttons may appear overlapping the other buttons in the scene.</span></span> <span data-ttu-id="60794-119">No dude en ajustar la posición del botón.</span><span class="sxs-lookup"><span data-stu-id="60794-119">Feel free to adjust the button's positioning.</span></span>
   

  ![module2chapter2step2aim](images/module2chapter2step2aim.PNG)

![module2chapter2step2aim](images/module2chapter2step2bim.PNG)

![module2chapter2step2aim](images/module2chapter2step2cim.PNG)

   - <span data-ttu-id="60794-123">Para el botón denominado "GetFromDisk", cree un nuevo evento en el desencadenador de eventos "Botón presionado", así como el desencadenador de eventos "En Click".</span><span class="sxs-lookup"><span data-stu-id="60794-123">For the Button named "GetFromDisk", create a new event under the "Button Pressed" event trigger as well as the "On Click" event trigger.</span></span> <span data-ttu-id="60794-124">Arrastre el objeto ParentAnchor en el campo vacío y asignar el método LoadAzureAnchorIDsFromDisk() del componente de ASAmoduleScript ParentAnchor del objeto.</span><span class="sxs-lookup"><span data-stu-id="60794-124">Drag the ParentAnchor object into the empty field, and assign the LoadAzureAnchorIDsFromDisk() method from the ParentAnchor Object's ASAmoduleScript component.</span></span>

3. <span data-ttu-id="60794-125">Siga las instrucciones de la lección 1 para compilar la aplicación actualizada en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="60794-125">Follow the instructions from Lesson 1 to build the updated application to your device.</span></span> <span data-ttu-id="60794-126">Después de presionar el botón "Crear Azure delimitador", como hizo en la lección anterior, ahora puede guardar el identificador de delimitador de Azure en el disco presionando el botón Guardar en disco.</span><span class="sxs-lookup"><span data-stu-id="60794-126">After pressing the "Create Azure Anchor" button, as you did in the previous lesson, you may now save the Azure Anchor ID to disk by pressing the save to disk button.</span></span>

4. <span data-ttu-id="60794-127">Reiniciar la aplicación, inicie la sesión de Azure, presione el botón "Identificador de delimitador de carga" y, a continuación, presione el botón "Buscar el delimitador de Azure" para buscar el delimitador asociado con el identificador se guardan en el disco.</span><span class="sxs-lookup"><span data-stu-id="60794-127">Restart the application, start the Azure Session, Press the "Load Anchor ID" button, and then press the "Locate Azure Anchor" button to locate the anchor associated with the ID we saved to the disk.</span></span> <span data-ttu-id="60794-128">Toda la escena ahora debe ajustarse a su posición, en la ubicación que ha guardado el delimitador anteriormente!</span><span class="sxs-lookup"><span data-stu-id="60794-128">The entire scene should now snap into position, at the location you saved the anchor previously!</span></span>

### <a name="share-azure-anchors-between-multiple-devices"></a><span data-ttu-id="60794-129">Compartir los anclajes de Azure entre varios dispositivos</span><span class="sxs-lookup"><span data-stu-id="60794-129">Share Azure Anchors between multiple devices</span></span>

<span data-ttu-id="60794-130">En esta sección, se obtendrá información sobre cómo compartir el identificador de delimitador de Azure entre varios dispositivos.</span><span class="sxs-lookup"><span data-stu-id="60794-130">In this section, we'll learn how to share the Azure Anchor ID between multiple devices.</span></span> <span data-ttu-id="60794-131">Esto permitirá que varios dispositivos consultar Azure para el mismo identificador de delimitador, que permite que nuestra hologramas anclados y escenas espacialmente estén alineados.</span><span class="sxs-lookup"><span data-stu-id="60794-131">This will allow multiple devices to query Azure for the same anchor ID, allowing our anchored holograms and scenes to be spatially aligned.</span></span> <span data-ttu-id="60794-132">Alineación espacial (ver la mismas hologramas en la misma ubicación física entre varios dispositivos) es clave para local experiencias compartidas en el 2 de HoloLens.</span><span class="sxs-lookup"><span data-stu-id="60794-132">Spatial alignment (seeing the same holograms in the same physical location between multiple devices) is key to local shared experiences in the HoloLens 2.</span></span> <span data-ttu-id="60794-133">Hay muchas maneras para transferir información relativa a los identificadores de azure entre dispositivos, incluidos los métodos describen en las experiencias compartidas Azure espacial delimitadores tutoriales (TODO: Agregar vínculo.) Este ejemplo utiliza un servicio web simple para cargar y descargar los identificadores de delimitador entre dispositivos.</span><span class="sxs-lookup"><span data-stu-id="60794-133">There are many ways to transfer information regarding azure IDs between devices, including methods outlined in the Azure Spatial Anchors shared experiences tutorials (TODO: add link.) This example uses a simple web service to upload and download Anchor IDs between devices.</span></span>

1. <span data-ttu-id="60794-134">Agregue el recurso prefabricado de "ShareAnchor" en la jerarquía.</span><span class="sxs-lookup"><span data-stu-id="60794-134">Add the "ShareAnchor" prefab into your hierarchy.</span></span> <span data-ttu-id="60794-135">Este recurso prefabricado agrega dos nuevos botones a la escena; uno para cargar información de Id. de anclaje y otro para descargar información de Id. de anclaje.</span><span class="sxs-lookup"><span data-stu-id="60794-135">This prefab adds two new buttons to your scene; one for uploading anchor ID information and another for downloading anchor ID information.</span></span> 

   ![module2chapter2step5im](images/module2chapter2step5im.PNG)

2. <span data-ttu-id="60794-137">Configure cada botón según las instrucciones siguientes</span><span class="sxs-lookup"><span data-stu-id="60794-137">Configure Each button according to the instructions below</span></span>

   - <span data-ttu-id="60794-138">Para el botón denominado "SendSharedAnchor", cree un nuevo evento en el desencadenador de eventos "Botón presionado", así como el desencadenador de eventos "En Click".</span><span class="sxs-lookup"><span data-stu-id="60794-138">For the Button named "SendSharedAnchor", create a new event under the "Button Pressed" event trigger as well as the "On Click" event trigger.</span></span> <span data-ttu-id="60794-139">Arrastre el objeto ParentAnchor en el campo vacío y asignar el método ShareAnchor() del componente de ASAmoduleScript ParentAnchor del objeto.</span><span class="sxs-lookup"><span data-stu-id="60794-139">Drag the ParentAnchor object into the empty field, and assign the ShareAnchor() method from the ParentAnchor Object's ASAmoduleScript component.</span></span>

     ![module2chapter2step6aim](images/module2chapter2step6aim.PNG)

     ![module2chapter2step6bim](images/module2chapter2step6bim.PNG)

     

   - <span data-ttu-id="60794-142">Para el botón denominado "GetSharedAnchor", cree un nuevo evento en el desencadenador de eventos "Botón presionado", así como el desencadenador de eventos "En Click".</span><span class="sxs-lookup"><span data-stu-id="60794-142">For the Button named "GetSharedAnchor", create a new event under the "Button Pressed" event trigger as well as the "On Click" event trigger.</span></span> <span data-ttu-id="60794-143">Arrastre el objeto ParentAnchor en el campo vacío y asignar el método GetSharedAzureAnchor() del componente de ASAmoduleScript ParentAnchor del objeto.</span><span class="sxs-lookup"><span data-stu-id="60794-143">Drag the ParentAnchor object into the empty field, and assign the GetSharedAzureAnchor() method from the ParentAnchor Object's ASAmoduleScript component.</span></span>

3. <span data-ttu-id="60794-144">Siga las instrucciones de [lección 1](mrlearning-base-ch1.md).</span><span class="sxs-lookup"><span data-stu-id="60794-144">Follow the instructions from [Lesson 1](mrlearning-base-ch1.md).</span></span> <span data-ttu-id="60794-145">Para compilar la aplicación actualizada en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="60794-145">to build the updated application to your device.</span></span> <span data-ttu-id="60794-146">Después de presionar el botón "Crear Azure delimitador", como hizo en la lección anterior, es posible que ahora compartir el identificador de delimitador de Azure a otros dispositivos presionando el botón compartir a otro dispositivo.</span><span class="sxs-lookup"><span data-stu-id="60794-146">After pressing the "Create Azure Anchor" button, as you did in the previous lesson, you may now share the Azure Anchor ID to other devices by pressing the Share To Other Device button.</span></span>

   > <span data-ttu-id="60794-147">Nota: Seleccione el delimitador de elemento primario y desplácese hacia abajo hasta la secuencia de comandos de delimitador de elemento primario.</span><span class="sxs-lookup"><span data-stu-id="60794-147">Note: Select the parent anchor and scroll down to the parent anchor script.</span></span> <span data-ttu-id="60794-148">Asegúrese de que el "pin público para compartir" es exclusivo, por lo que cuando lo comparte, sabrá que es suyo que va a compartir.</span><span class="sxs-lookup"><span data-stu-id="60794-148">Ensure that your "public sharing pin" is unique, so that when you share it, you know it is yours that you are sharing.</span></span> <span data-ttu-id="60794-149">Puede haber miles de usuarios que comparten sus delimitadores de Azure, por lo que esto le permitirá asegurarse de que comparta los delimitadores de Azure correcto.</span><span class="sxs-lookup"><span data-stu-id="60794-149">There could be thousands of users sharing their Azure Anchors, so doing this will allow you to ensure you are sharing the correct Azure Anchors.</span></span>

4. <span data-ttu-id="60794-150">Si tiene otro dispositivo HoloLens 2, inicie la aplicación y, a continuación, iniciar la sesión de Azure.</span><span class="sxs-lookup"><span data-stu-id="60794-150">If you have another HoloLens 2 device, start the application and then start the Azure Session.</span></span> <span data-ttu-id="60794-151">Presione el botón "Obtener el identificador de delimitador compartido" y, a continuación, presione el botón "Buscar el delimitador de Azure" para buscar el delimitador asociado con el identificador se guardan en el disco.</span><span class="sxs-lookup"><span data-stu-id="60794-151">Press the "Get Shared Anchor ID" button, and then press the "Locate Azure Anchor" button to locate the anchor associated with the ID we saved to the disk.</span></span> <span data-ttu-id="60794-152">Toda la escena ahora debe ajustarse a su posición, en donde se colocó en el otro dispositivo HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="60794-152">The entire scene should now snap into position, at the where it was placed on the other HoloLens 2 device!</span></span> <span data-ttu-id="60794-153">Si tiene sólo un 2 HoloLens, puede aún probar la funcionalidad mediante el reinicio de la aplicación, iniciar la sesión de Azure y, a continuación, presione el botón "Obtener el identificador de delimitador compartido" y, a continuación, presione el botón "Buscar el delimitador de Azure" para buscar el delimitador asociado con el identificador se guardan en el disco.</span><span class="sxs-lookup"><span data-stu-id="60794-153">If you only have one HoloLens 2, you may still test functionality by restarting the application, starting the Azure Session, and then Press the "Get Shared Anchor ID" button button, and then press the "Locate Azure Anchor" button to locate the anchor associated with the ID we saved to the disk.</span></span> <span data-ttu-id="60794-154">Toda la escena ahora debe ajustarse a su posición, en la ubicación que ha guardado el delimitador anteriormente!</span><span class="sxs-lookup"><span data-stu-id="60794-154">The entire scene should now snap into position, at the location you saved the anchor previously!</span></span>

## <a name="congratulations"></a><span data-ttu-id="60794-155">Enhorabuena</span><span class="sxs-lookup"><span data-stu-id="60794-155">Congratulations</span></span>
<span data-ttu-id="60794-156">En esta lección ha aprendido cómo conservar los delimitadores espacial de Azure entre sesiones de aplicación y los reinicios de aplicación al guardar el identificador de delimitador espacial de Azure en el disco local de HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="60794-156">In this Lesson you learned how to persist Azure Spatial Anchors between app sessions and app restarts by saving the Azure Spatial Anchor ID to the local disk of the HoloLens 2.</span></span> <span data-ttu-id="60794-157">También ha aprendido cómo compartir Azure espacial delimitadores entre varios dispositivos para una experiencia básica holograma multiusuario, estáticos compartido!</span><span class="sxs-lookup"><span data-stu-id="60794-157">You also learned how to share Azure Spatial Anchors between multiple devices for a basic multi-user, static hologram shared experience!</span></span>

<span data-ttu-id="60794-158">Se obtendrá información sobre cómo implementar Azure espacial delimitadores como parte de una experiencia totalmente interactiva de compartido local durante la última lección del módulo de uso compartido.</span><span class="sxs-lookup"><span data-stu-id="60794-158">We will learn how to implement Azure Spatial Anchors as part of a fully interactive local shared experience during the final lesson of the Sharing Module.</span></span> <span data-ttu-id="60794-159">Una experiencia de uso compartido local puede incluir funcionalidad como identificadores de objeto 3D sincronizado posición, rotación y escala, para cada usuario y compartir los Estados de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="60794-159">A local sharing experience may include functionality such as synchronized 3D object position, rotation, and scale, identifiers for each user, and shared application states.</span></span> <span data-ttu-id="60794-160">Delimitadores espacial Azure mejora estos escenarios compartidos proporcionando cada participante con un delimitador común que permite a los usuarios ver los objetos virtuales en la misma ubicación física.</span><span class="sxs-lookup"><span data-stu-id="60794-160">Azure Spatial Anchors enhances these shared scenarios by providing each participant with a common anchor which allows all users to see virtual objects in the same physical location.</span></span> <span data-ttu-id="60794-161">Esto es cierto en una variedad de plataformas de dispositivos, incluidos los dispositivos HoloLens, iOS y Android.</span><span class="sxs-lookup"><span data-stu-id="60794-161">This is true across a range of device platforms, including HoloLens, Android, and iOS devices.</span></span> <span data-ttu-id="60794-162">Para obtener información sobre cómo desarrollar una experiencia compartida, complete todas las lecciones del módulo de recursos compartidos.</span><span class="sxs-lookup"><span data-stu-id="60794-162">To learn how to develop a shared experience, please complete all lessons in the Sharing module.</span></span>

<span data-ttu-id="60794-163">En la lección siguiente, se obtendrá información sobre cómo proporcionar comentarios en tiempo real a los usuarios.</span><span class="sxs-lookup"><span data-stu-id="60794-163">In the next Lesson, we will learn how to provide users with real-time feedback.</span></span> <span data-ttu-id="60794-164">Esta información incluirá información sobre la creación de anclaje, la calidad de comprensión del entorno y el estado de la sesión de Azure.</span><span class="sxs-lookup"><span data-stu-id="60794-164">This feedback will include information about Anchor creation, the quality of environment understanding, and the state of the Azure session.</span></span> <span data-ttu-id="60794-165">Sin comentarios, los usuarios que no sepa si un delimitador ha sido correctamente la carga en Azure, si la calidad del entorno es suficiente para la creación de delimitador o el estado actual.</span><span class="sxs-lookup"><span data-stu-id="60794-165">Without feedback, users may not know whether an anchor has successfully been upload to Azure, whether the quality of the environment is sufficient for anchor creation, or the current state.</span></span>

[<span data-ttu-id="60794-166">Siguiente lección: Lección 3 de ASA</span><span class="sxs-lookup"><span data-stu-id="60794-166">Next Lesson: ASA Lesson 3</span></span>](mrlearning-asa-ch3.md)

