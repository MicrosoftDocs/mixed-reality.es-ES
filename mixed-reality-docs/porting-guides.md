---
title: Guías de migración
description: Un tutorial paso a paso que explica cómo migrar una aplicación envolvente existente a Windows Mixed Reality.
author: JBrentJ
ms.author: alexturn
ms.date: 07/07/2020
ms.topic: article
keywords: puerto, portabilidad, Unity, middleware, motor, UWP, Win32
ms.openlocfilehash: ed6c613c8aa3649cffb42d08dbb18661f06b9a53
ms.sourcegitcommit: ef0bf03833eda826ed0b884859b4573775112aba
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/31/2020
ms.locfileid: "87476937"
---
# <a name="porting-guides"></a><span data-ttu-id="1b353-104">Guías de migración</span><span class="sxs-lookup"><span data-stu-id="1b353-104">Porting guides</span></span>

## <a name="overview"></a><span data-ttu-id="1b353-105">Información general</span><span class="sxs-lookup"><span data-stu-id="1b353-105">Overview</span></span>

<span data-ttu-id="1b353-106">Windows 10 incluye compatibilidad directa con auriculares envolventes y holográficas.</span><span class="sxs-lookup"><span data-stu-id="1b353-106">Windows 10 includes direct support for immersive and holographic headsets.</span></span> <span data-ttu-id="1b353-107">Si ha creado contenido para otros dispositivos, como Oculus Rift o HTC Naopak, tienen dependencias en las bibliotecas que existen por encima de la API de la plataforma del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="1b353-107">If you've built content for other devices, such as the Oculus Rift or HTC Vive, these have dependencies on libraries that exist above the operating system's platform API.</span></span> <span data-ttu-id="1b353-108">La incorporación de aplicaciones de la aplicación existente de Win32 Unity a Windows Mixed Reality implica la redestinación del uso de los SDK de VR específicos del proveedor a las API de VR entre proveedores de Unity.</span><span class="sxs-lookup"><span data-stu-id="1b353-108">Bringing existing Win32 Unity VR apps over to Windows Mixed Reality involves retargeting usage of vendor-specific VR SDKs to Unity's cross-vendor VR APIs.</span></span>


## <a name="porting-overview"></a><span data-ttu-id="1b353-109">Introducción a la migración</span><span class="sxs-lookup"><span data-stu-id="1b353-109">Porting overview</span></span>

<span data-ttu-id="1b353-110">En un nivel alto, los siguientes pasos están relacionados con el traslado de contenido existente:</span><span class="sxs-lookup"><span data-stu-id="1b353-110">At a high level, the following steps are involved in porting existing content:</span></span>
1. <span data-ttu-id="1b353-111">**Asegúrese de que el equipo ejecuta Windows 10 Fall Creators Update (16299).**</span><span class="sxs-lookup"><span data-stu-id="1b353-111">**Make sure your PC is running the Windows 10 Fall Creators Update (16299).**</span></span> <span data-ttu-id="1b353-112">Ya no se recomienda recibir compilaciones de vista previa del anillo de Insider SKIP Preview, ya que esas compilaciones no serán las más estables para el desarrollo de realidad mixta.</span><span class="sxs-lookup"><span data-stu-id="1b353-112">We no longer recommend receiving preview builds from the Insider Skip Ahead ring, as those builds won't be the most stable for mixed reality development.</span></span>
2. <span data-ttu-id="1b353-113">**Actualice a la versión más reciente de los gráficos o del motor de juegos.**</span><span class="sxs-lookup"><span data-stu-id="1b353-113">**Upgrade to the latest version of your graphics or game engine.**</span></span> <span data-ttu-id="1b353-114">Los motores de juegos deberán admitir la versión 10.0.15063.0 del SDK de Windows 10 (Publicada en el 2017 de abril) o superior.</span><span class="sxs-lookup"><span data-stu-id="1b353-114">Game engines will need to support the Windows 10 SDK version 10.0.15063.0 (released in April 2017) or higher.</span></span>
3. <span data-ttu-id="1b353-115">**Actualice cualquier middleware, complemento o componente.**</span><span class="sxs-lookup"><span data-stu-id="1b353-115">**Upgrade any middleware, plug-ins, or components.**</span></span> <span data-ttu-id="1b353-116">Si la aplicación contiene componentes, es una buena idea actualizar a la versión más reciente.</span><span class="sxs-lookup"><span data-stu-id="1b353-116">If your app contains any components, it's a good idea to upgrade to the latest version.</span></span>
4. <span data-ttu-id="1b353-117">**Quite las dependencias de los SDK duplicados**.</span><span class="sxs-lookup"><span data-stu-id="1b353-117">**Remove dependencies on duplicate SDKs**.</span></span> <span data-ttu-id="1b353-118">En función del dispositivo al que se dirija el contenido, deberá quitar o compilar condicionalmente ese SDK (por ejemplo, SteamVR) para que pueda establecer como destino las API de Windows en su lugar.</span><span class="sxs-lookup"><span data-stu-id="1b353-118">Depending on which device your content was targeting, you'll need to remove or conditionally compile out that SDK (for example, SteamVR) so you can target the Windows APIs instead.</span></span>
5. <span data-ttu-id="1b353-119">**Trabaje con problemas de compilación.**</span><span class="sxs-lookup"><span data-stu-id="1b353-119">**Work through build issues.**</span></span> <span data-ttu-id="1b353-120">En este momento, el ejercicio de portabilidad es específico de la aplicación, el motor y las dependencias de componentes que tiene.</span><span class="sxs-lookup"><span data-stu-id="1b353-120">At this point, the porting exercise is specific to your app, your engine, and the component dependencies you have.</span></span>

## <a name="common-porting-steps"></a><span data-ttu-id="1b353-121">Pasos de portabilidad comunes</span><span class="sxs-lookup"><span data-stu-id="1b353-121">Common porting steps</span></span>

### <a name="common-step-1-make-sure-you-have-the-right-development-hardware"></a><span data-ttu-id="1b353-122">Paso 1: asegurarse de que tiene el hardware de desarrollo correcto</span><span class="sxs-lookup"><span data-stu-id="1b353-122">Common step 1: Make sure you have the right development hardware</span></span>

<span data-ttu-id="1b353-123">En la página [instalar las herramientas](install-the-tools.md#immersive-vr-headset-requirements) se muestra el hardware de desarrollo recomendado.</span><span class="sxs-lookup"><span data-stu-id="1b353-123">The [install the tools](install-the-tools.md#immersive-vr-headset-requirements) page lists the recommended development hardware.</span></span>

### <a name="common-step-2-upgrade-to-the-latest-flight-of-windows-10"></a><span data-ttu-id="1b353-124">Paso 2 común: actualizar al vuelo más reciente de Windows 10</span><span class="sxs-lookup"><span data-stu-id="1b353-124">Common step 2: Upgrade to the latest flight of Windows 10</span></span>

<span data-ttu-id="1b353-125">La plataforma Windows Mixed Reality todavía está en desarrollo activo.</span><span class="sxs-lookup"><span data-stu-id="1b353-125">The Windows Mixed Reality platform is still under active development.</span></span> <span data-ttu-id="1b353-126">Se recomienda [unirse al programa Windows Insider](https://insider.windows.com/) para tener acceso al vuelo "Windows Insider Fast".</span><span class="sxs-lookup"><span data-stu-id="1b353-126">We recommend [joining the Windows Insider Program](https://insider.windows.com/) to access the "Windows Insider Fast" flight.</span></span>
1. <span data-ttu-id="1b353-127">Instalación de [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span><span class="sxs-lookup"><span data-stu-id="1b353-127">Install the [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span></span>
2. <span data-ttu-id="1b353-128">[Únase](https://insider.windows.com/) al programa Windows Insider.</span><span class="sxs-lookup"><span data-stu-id="1b353-128">[Join](https://insider.windows.com/) the Windows Insider Program.</span></span>
3. <span data-ttu-id="1b353-129">Habilitar el [modo de desarrollador](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span><span class="sxs-lookup"><span data-stu-id="1b353-129">Enable [Developer Mode](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span></span>
4. <span data-ttu-id="1b353-130">Cambiar a los [vuelos rápidos de Windows Insider](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) a través de la **configuración > actualización & sección de seguridad**</span><span class="sxs-lookup"><span data-stu-id="1b353-130">Switch to the [Windows Insider Fast flights](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) through **Settings > Update & Security Section**</span></span>

### <a name="common-step-3-upgrade-to-the-most-recent-build-of-visual-studio"></a><span data-ttu-id="1b353-131">Paso 3 común: actualizar a la compilación más reciente de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="1b353-131">Common step 3: Upgrade to the most recent build of Visual Studio</span></span>
* <span data-ttu-id="1b353-132">Si usa Visual Studio, actualice a la compilación más reciente</span><span class="sxs-lookup"><span data-stu-id="1b353-132">If you're using Visual Studio then upgrade to the most recent build</span></span>
* <span data-ttu-id="1b353-133">Vea [instalar la](install-the-tools.md#installation-checklist) página de herramientas en Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="1b353-133">See [Install the tools](install-the-tools.md#installation-checklist) page under Visual Studio 2019</span></span>

### <a name="common-step-4-choose-the-correct-adapter"></a><span data-ttu-id="1b353-134">Paso 4 común: elegir el adaptador correcto</span><span class="sxs-lookup"><span data-stu-id="1b353-134">Common step 4: Choose the correct Adapter</span></span>
* <span data-ttu-id="1b353-135">En sistemas como notebooks con dos GPU, [el destino es el adaptador correcto](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span><span class="sxs-lookup"><span data-stu-id="1b353-135">In systems like notebooks with two GPUs, [target the correct adapter](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span></span> <span data-ttu-id="1b353-136">Esto se aplica a las aplicaciones de Unity y de DirectX nativas donde se crea un ID3D11Device, ya sea de forma explícita o implícita (Media Foundation), para su funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="1b353-136">This applies to Unity and native DirectX apps where a ID3D11Device is created, either explicitly or implicitly (Media Foundation), for its functionality.</span></span>

## <a name="unity-porting-guidance"></a><span data-ttu-id="1b353-137">Guía de portabilidad de Unity</span><span class="sxs-lookup"><span data-stu-id="1b353-137">Unity porting guidance</span></span>

### <a name="unity-step-1-review-the-common-porting-steps-listed-above"></a><span data-ttu-id="1b353-138">Unity paso 1: revisión de los pasos de portabilidad más indicados anteriormente</span><span class="sxs-lookup"><span data-stu-id="1b353-138">Unity step 1: Review the common porting steps listed above</span></span>

<span data-ttu-id="1b353-139">Revise los pasos comunes indicados anteriormente para asegurarse de que el entorno de desarrollo está configurado correctamente.</span><span class="sxs-lookup"><span data-stu-id="1b353-139">Review the common steps listed above to make sure your development environment is set up correctly.</span></span> <span data-ttu-id="1b353-140">En el paso #3, si usa Visual Studio, debe seleccionar la carga de trabajo **desarrollo de juegos con Unity** .</span><span class="sxs-lookup"><span data-stu-id="1b353-140">In step #3, if you're using Visual Studio you should select the **Game Development with Unity** workload.</span></span> <span data-ttu-id="1b353-141">Puede anular la selección del componente "Editor de Unity opcional", ya que va a instalar una versión más reciente de Unity en el paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="1b353-141">You may deselect the "Unity Editor optional" component since you'll be installing a newer version of Unity in the next step.</span></span>

### <a name="unity-step-2-upgrade-to-the-latest-public-build-of-unity-with-windows-mr-support"></a><span data-ttu-id="1b353-142">Unity paso 2: actualización a la compilación pública más reciente de Unity con compatibilidad con Windows MR</span><span class="sxs-lookup"><span data-stu-id="1b353-142">Unity step 2: Upgrade to the latest public build of Unity with Windows MR Support</span></span>
1. <span data-ttu-id="1b353-143">Descargue la última [compilación pública recomendada de Unity](install-the-tools.md) con compatibilidad de realidad mixta.</span><span class="sxs-lookup"><span data-stu-id="1b353-143">Download the latest [recommended public build of Unity](install-the-tools.md) with mixed reality support.</span></span>
2. <span data-ttu-id="1b353-144">Guarde una copia del proyecto antes de empezar.</span><span class="sxs-lookup"><span data-stu-id="1b353-144">Save a copy of your project before you get started</span></span>
3. <span data-ttu-id="1b353-145">Revise la [documentación](https://docs.unity3d.com/Manual/UpgradeGuides.html) disponible en Unity en la actualización si el proyecto se compiló con una versión anterior de Unity.</span><span class="sxs-lookup"><span data-stu-id="1b353-145">Review the [documentation](https://docs.unity3d.com/Manual/UpgradeGuides.html) available from Unity on upgrading if your project was built on an older version of Unity.</span></span>
4. <span data-ttu-id="1b353-146">Siga las [instrucciones](https://docs.unity3d.com/Manual/APIUpdater.html) del sitio de Unity para usar su actualizador de API automática.</span><span class="sxs-lookup"><span data-stu-id="1b353-146">Follow the [instructions](https://docs.unity3d.com/Manual/APIUpdater.html) on Unity's site for using their automatic API updater</span></span>
5. <span data-ttu-id="1b353-147">Compruebe si hay cambios adicionales que necesite realizar para que el proyecto se ejecute y, a continuación, trabaje con los errores y advertencias restantes.</span><span class="sxs-lookup"><span data-stu-id="1b353-147">Check and see if there are additional changes that you need to make to get your project running, and work through any remaining errors and warnings.</span></span> 

> [!Note] 
> <span data-ttu-id="1b353-148">Si tiene un middleware del que depende, compruebe que está usando la versión más reciente (más información en el paso 3 a continuación).</span><span class="sxs-lookup"><span data-stu-id="1b353-148">If you have middleware that you depend on, check that you're using the latest release (more details in step 3 below).</span></span>

### <a name="unity-step-3-upgrade-your-middleware-to-the-latest-versions"></a><span data-ttu-id="1b353-149">Unity paso 3: actualización del middleware a las versiones más recientes</span><span class="sxs-lookup"><span data-stu-id="1b353-149">Unity step 3: Upgrade your middleware to the latest versions</span></span>

<span data-ttu-id="1b353-150">Con cualquier actualización de Unity, existe la posibilidad de actualizar uno o más paquetes de middleware de los que depende su juego o aplicación.</span><span class="sxs-lookup"><span data-stu-id="1b353-150">With any Unity update, there's a good chance that you'll need to update one or more middleware packages that your game or application depends on.</span></span> <span data-ttu-id="1b353-151">Además, al estar al día con el middleware más reciente, se aumenta la probabilidad de éxito a lo largo del resto del proceso de portabilidad.</span><span class="sxs-lookup"><span data-stu-id="1b353-151">Additionally, being up to date with the latest middleware increases the likelihood of success throughout the rest of the porting process.</span></span>

### <a name="unity-step-4-target-your-application-to-run-on-win32"></a><span data-ttu-id="1b353-152">Unity paso 4: dirigir la aplicación para que se ejecute en Win32</span><span class="sxs-lookup"><span data-stu-id="1b353-152">Unity step 4: Target your application to run on Win32</span></span>

<span data-ttu-id="1b353-153">Desde dentro de la aplicación Unity:</span><span class="sxs-lookup"><span data-stu-id="1b353-153">From inside your Unity application:</span></span>

* <span data-ttu-id="1b353-154">Vaya a archivo-> configuración de compilación</span><span class="sxs-lookup"><span data-stu-id="1b353-154">Navigate to File -> Build Settings</span></span>
* <span data-ttu-id="1b353-155">Seleccione "PC, Mac, Linux independiente"</span><span class="sxs-lookup"><span data-stu-id="1b353-155">Select "PC, Mac, Linux Standalone"</span></span>
* <span data-ttu-id="1b353-156">Establecer la plataforma de destino en "Windows"</span><span class="sxs-lookup"><span data-stu-id="1b353-156">Set target platform to "Windows"</span></span>
* <span data-ttu-id="1b353-157">Establecer la arquitectura en "x86" seleccionar "cambiar plataforma"</span><span class="sxs-lookup"><span data-stu-id="1b353-157">Set architecture to "x86" Select "Switch Platform"</span></span>

> [!NOTE] 
> <span data-ttu-id="1b353-158">Si la aplicación tiene dependencias en servicios específicos del dispositivo, como la realización de una coincidencia de vapor, deberá deshabilitarlos en este paso.</span><span class="sxs-lookup"><span data-stu-id="1b353-158">If your application has any dependencies on device-specific services, such as match making from Steam, you'll need to disable them at this step.</span></span> <span data-ttu-id="1b353-159">Puede enlazar a los servicios equivalentes que Windows proporciona más adelante.</span><span class="sxs-lookup"><span data-stu-id="1b353-159">You can hook up to the equivalent services that Windows provides later on.</span></span>

### <a name="unity-step-5-setup-your-windows-mixed-reality-hardware"></a><span data-ttu-id="1b353-160">Unity paso 5: configuración del hardware de Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="1b353-160">Unity step 5: Setup your Windows Mixed Reality hardware</span></span>
1. <span data-ttu-id="1b353-161">Revisión de los pasos de la [configuración de auriculares inmersivo](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span><span class="sxs-lookup"><span data-stu-id="1b353-161">Review steps in [Immersive headset setup](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span></span>
2. <span data-ttu-id="1b353-162">Obtener información sobre cómo [usar el simulador de realidad mixta de Windows](using-the-windows-mixed-reality-simulator.md) y [navegar por la Página principal de Windows Mixed Reality](navigating-the-windows-mixed-reality-home.md)</span><span class="sxs-lookup"><span data-stu-id="1b353-162">Learn about [Using the Windows Mixed Reality simulator](using-the-windows-mixed-reality-simulator.md) and [Navigating the Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md)</span></span>

### <a name="unity-step-6-target-your-application-to-run-on-windows-mixed-reality"></a><span data-ttu-id="1b353-163">Unity paso 6: dirigir la aplicación para que se ejecute en Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="1b353-163">Unity step 6: Target your application to run on Windows Mixed Reality</span></span>
1. <span data-ttu-id="1b353-164">En primer lugar, debe quitar o compilar condicionalmente cualquier otra compatibilidad de biblioteca específica de un SDK de VR determinado.</span><span class="sxs-lookup"><span data-stu-id="1b353-164">First, you must remove or conditionally compile out any other library support specific to a particular VR SDK.</span></span> <span data-ttu-id="1b353-165">Esos activos cambian con frecuencia la configuración y las propiedades del proyecto de manera que sean incompatibles con otros SDK de VR, como Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="1b353-165">Those assets frequently change settings and properties on your project in ways that are incompatible with other VR SDKs, such as Windows Mixed Reality.</span></span>
    * <span data-ttu-id="1b353-166">Por ejemplo, si el proyecto hace referencia al SDK de SteamVR, tendrá que actualizar el proyecto para usar en su lugar las API de VR comunes de Unity que admiten tanto Windows Mixed Reality como SteamVR.</span><span class="sxs-lookup"><span data-stu-id="1b353-166">For example, if your project references the SteamVR SDK, you'll need to update your project to instead use Unity's common VR APIs that support both Windows Mixed Reality and SteamVR.</span></span>
    * <span data-ttu-id="1b353-167">Pronto estarán disponibles los pasos específicos para excluir condicionalmente otros SDK de VR.</span><span class="sxs-lookup"><span data-stu-id="1b353-167">Specific steps for conditionally excluding other VR SDKs are coming soon.</span></span>
2. <span data-ttu-id="1b353-168">En el proyecto de Unity, [el destino es el SDK de Windows 10](holograms-100.md#target-windows-10-sdk) .</span><span class="sxs-lookup"><span data-stu-id="1b353-168">In your Unity project, [target the Windows 10 SDK](holograms-100.md#target-windows-10-sdk)</span></span>
3. <span data-ttu-id="1b353-169">Para cada escena, [Configure la cámara](holograms-100.md#chapter-2---setup-the-camera) .</span><span class="sxs-lookup"><span data-stu-id="1b353-169">For each scene, [setup the camera](holograms-100.md#chapter-2---setup-the-camera)</span></span>

### <a name="unity-step-7-use-the-stage-to-place-content-on-the-floor"></a><span data-ttu-id="1b353-170">Unity paso 7: usar la fase para colocar contenido en el piso</span><span class="sxs-lookup"><span data-stu-id="1b353-170">Unity step 7: Use the stage to place content on the floor</span></span>

<span data-ttu-id="1b353-171">Puede crear experiencias de realidad mixta en una amplia gama de [escalas de experiencia](coordinate-systems.md).</span><span class="sxs-lookup"><span data-stu-id="1b353-171">You can build Mixed Reality experiences across a wide range of [experience scales](coordinate-systems.md).</span></span>

<span data-ttu-id="1b353-172">Si va a migrar una **experiencia de escalado de**una instalación, debe asegurarse de que Unity está establecido en el tipo de espacio de seguimiento **estacionario** :</span><span class="sxs-lookup"><span data-stu-id="1b353-172">If you're porting a **seated-scale experience**, you must ensure Unity is set to the **Stationary** tracking space type:</span></span>

```cs
XRDevice.SetTrackingSpaceType(TrackingSpaceType.Stationary);
```

<span data-ttu-id="1b353-173">En el código anterior se establece el sistema de coordenadas universal de Unity para realizar el seguimiento del [marco estacionario de referencia](coordinate-systems.md#spatial-coordinate-systems).</span><span class="sxs-lookup"><span data-stu-id="1b353-173">This above code sets Unity's world coordinate system to track the [stationary frame of reference](coordinate-systems.md#spatial-coordinate-systems).</span></span> <span data-ttu-id="1b353-174">En el modo de seguimiento estacional, el contenido colocado en el editor justo delante de la ubicación predeterminada de la cámara (el avance es-Z) aparece delante del usuario cuando se inicia la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1b353-174">In the Stationary tracking mode, content placed in the editor just in front of the camera's default location (forward is -Z) appears in front of the user when the app launches.</span></span> <span data-ttu-id="1b353-175">Para recentrar el origen del usuario, puede llamar a la XR de Unity [. Método InputTracking. recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) .</span><span class="sxs-lookup"><span data-stu-id="1b353-175">To recenter the user's seated origin, you can call Unity's [XR.InputTracking.Recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) method.</span></span>

<span data-ttu-id="1b353-176">Si va a migrar una experiencia **de escalado permanente** o una **experiencia a escala de habitación**, colocará contenido en relación con el piso.</span><span class="sxs-lookup"><span data-stu-id="1b353-176">If you're porting a **standing-scale experience** or **room-scale experience**, you'll be placing content relative to the floor.</span></span> <span data-ttu-id="1b353-177">Por lo tanto, se trata del piso del usuario mediante la **[fase espacial](coordinate-systems.md#spatial-coordinate-systems)**, que representa el origen del nivel de suelo definido por el usuario y el límite de sala opcional, configurado durante la primera ejecución.</span><span class="sxs-lookup"><span data-stu-id="1b353-177">You reason about the user's floor using the **[spatial stage](coordinate-systems.md#spatial-coordinate-systems)**, which represents the user's defined floor-level origin and optional room boundary, set up during first run.</span></span> <span data-ttu-id="1b353-178">Para estas experiencias, debe asegurarse de que Unity está establecido en el tipo de espacio de seguimiento de **RoomScale** .</span><span class="sxs-lookup"><span data-stu-id="1b353-178">For these experiences, you must ensure Unity is set to the **RoomScale** tracking space type.</span></span> <span data-ttu-id="1b353-179">Aunque RoomScale es el valor predeterminado, querrá establecerlo explícitamente y asegurarse de que se devuelve true para detectar situaciones en las que el usuario ha desplazado el equipo fuera del salón que han calibrado:</span><span class="sxs-lookup"><span data-stu-id="1b353-179">While RoomScale is the default, you'll want to set it explicitly and ensure you get back true, to catch situations where the user has moved their computer away from the room they calibrated:</span></span>

```cs
if (XRDevice.SetTrackingSpaceType(TrackingSpaceType.RoomScale))
{
    // RoomScale mode was set successfully.  App can now assume that y=0 in Unity world coordinate represents the floor.
}
else
{
    // RoomScale mode was not set successfully.  App cannot make assumptions about where the floor plane is.
}
```

<span data-ttu-id="1b353-180">Una vez que la aplicación establece correctamente el tipo de espacio de seguimiento de RoomScale, el contenido colocado en el plano y = 0 aparecerá en el suelo.</span><span class="sxs-lookup"><span data-stu-id="1b353-180">Once your app successfully sets the RoomScale tracking space type, content placed on the y=0 plane will appear on the floor.</span></span> <span data-ttu-id="1b353-181">El origen en (0,0) será el lugar específico en el piso en el que se encuentra el usuario durante la configuración de la habitación, con-Z que representa la dirección de avance que estaban teniendo lugar durante la instalación.</span><span class="sxs-lookup"><span data-stu-id="1b353-181">The origin at (0, 0, 0) will be the specific place on the floor where the user stood during room setup, with -Z representing the forward direction they were facing during setup.</span></span>

<span data-ttu-id="1b353-182">En el código de script, puede llamar al método TryGetGeometry en el tipo UnityEngine. experimental. XR. Boundary para obtener un polígono de límite, especificando un tipo de límite de TrackedArea.</span><span class="sxs-lookup"><span data-stu-id="1b353-182">In script code, you can then call the TryGetGeometry method on you're the UnityEngine.Experimental.XR.Boundary type to get a boundary polygon, specifying a boundary type of TrackedArea.</span></span> <span data-ttu-id="1b353-183">Si el usuario definía un límite (se obtiene una lista de vértices), es seguro ofrecer una experiencia de **escalado** a la habitación al usuario, donde puede recorrer la escena que cree.</span><span class="sxs-lookup"><span data-stu-id="1b353-183">If the user defined a boundary (you get back a list of vertices), it's safe to deliver a **room-scale experience** to the user, where they can walk around the scene you create.</span></span>

<span data-ttu-id="1b353-184">El sistema representará automáticamente el límite cuando el usuario lo aproxime.</span><span class="sxs-lookup"><span data-stu-id="1b353-184">The system will automatically render the boundary when the user approaches it.</span></span> <span data-ttu-id="1b353-185">No es necesario que la aplicación use este polígono para representar el límite.</span><span class="sxs-lookup"><span data-stu-id="1b353-185">Your app does not need to use this polygon to render the boundary itself.</span></span>

<span data-ttu-id="1b353-186">Para obtener más información, consulte la página [de los sistemas de coordenadas en Unity](coordinate-systems-in-unity.md) .</span><span class="sxs-lookup"><span data-stu-id="1b353-186">For more information, see the [Coordinate systems in Unity](coordinate-systems-in-unity.md) page.</span></span>

<span data-ttu-id="1b353-187">Algunas aplicaciones usan un rectángulo para restringir su interacción.</span><span class="sxs-lookup"><span data-stu-id="1b353-187">Some applications use a rectangle to constrain their interaction.</span></span> <span data-ttu-id="1b353-188">La recuperación del rectángulo inscrito más grande no se admite directamente en la API de UWP o Unity.</span><span class="sxs-lookup"><span data-stu-id="1b353-188">Retrieving the largest inscribed rectangle is not directly supported in the UWP API or Unity.</span></span> <span data-ttu-id="1b353-189">El código de ejemplo vinculado a la siguiente muestra cómo buscar un rectángulo dentro de los límites de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="1b353-189">The example code linked to below shows how to find a rectangle within the traced bounds.</span></span> <span data-ttu-id="1b353-190">Por lo tanto, es posible que no encuentre la solución óptima, sin embargo, los resultados son coherentes con las expectativas.</span><span class="sxs-lookup"><span data-stu-id="1b353-190">It's heuristic-based so may not find the optimal solution, however, results are consistent with expectations.</span></span> <span data-ttu-id="1b353-191">Los parámetros del algoritmo se pueden optimizar para buscar resultados más precisos a costa del tiempo de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="1b353-191">Parameters in the algorithm can be tuned to find more precise results at the cost of processing time.</span></span> <span data-ttu-id="1b353-192">El algoritmo está en una bifurcación del kit de herramientas de realidad mixta que usa la versión 5,6 de MRTP Preview de Unity.</span><span class="sxs-lookup"><span data-stu-id="1b353-192">The algorithm is in a fork of the Mixed Reality Toolkit that uses the 5.6 preview MRTP version of Unity.</span></span> <span data-ttu-id="1b353-193">Esto no está disponible públicamente.</span><span class="sxs-lookup"><span data-stu-id="1b353-193">This isn't publicly available.</span></span> <span data-ttu-id="1b353-194">El código debe usarse directamente en 2017,2 y versiones posteriores de Unity.</span><span class="sxs-lookup"><span data-stu-id="1b353-194">The code should be directly usable in 2017.2 and higher versions of Unity.</span></span> <span data-ttu-id="1b353-195">El código se trasladará al MRTK actual en un futuro próximo.</span><span class="sxs-lookup"><span data-stu-id="1b353-195">The code will be ported to the current MRTK in the near future.</span></span>

<span data-ttu-id="1b353-196">[archivo zip de código en github](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Archivos importantes:</span><span class="sxs-lookup"><span data-stu-id="1b353-196">[zip file of code on GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Important files:</span></span>
* <span data-ttu-id="1b353-197">Assets/HoloToolkit/Stage/scripts/StageManager. CS-ejemplo de uso</span><span class="sxs-lookup"><span data-stu-id="1b353-197">Assets/HoloToolkit/Stage/Scripts/StageManager.cs - example of usage</span></span>
* <span data-ttu-id="1b353-198">Assets/HoloToolkit/Stage/scripts/LargestRectangle. CS-implementación del algoritmo</span><span class="sxs-lookup"><span data-stu-id="1b353-198">Assets/HoloToolkit/Stage/Scripts/LargestRectangle.cs - implementation of the algorithm</span></span>
* <span data-ttu-id="1b353-199">Assets/HoloToolkit-UnitTests/editor/Stage/LargestRectangleTest. CS: prueba trivial del algoritmo</span><span class="sxs-lookup"><span data-stu-id="1b353-199">Assets/HoloToolkit-UnitTests/Editor/Stage/LargestRectangleTest.cs - trivial test of the algorithm</span></span>

<span data-ttu-id="1b353-200">Ejemplo de resultados:</span><span class="sxs-lookup"><span data-stu-id="1b353-200">Example of results:</span></span>

![Ejemplo de resultados](images/largestrectangle-400px.jpg)

<span data-ttu-id="1b353-202">El algoritmo se basa en un blog de Daniel Smilkov: [el rectángulo más grande de un polígono](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span><span class="sxs-lookup"><span data-stu-id="1b353-202">Algorithm is based on a blog by Daniel Smilkov: [Largest rectangle in a polygon](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span></span>

### <a name="unity-step-8-work-through-your-input-model"></a><span data-ttu-id="1b353-203">Unity paso 8: trabajar a través del modelo de entrada</span><span class="sxs-lookup"><span data-stu-id="1b353-203">Unity step 8: Work through your input model</span></span>

<span data-ttu-id="1b353-204">Cada juego o aplicación que tiene como destino un HMD existente tendrá un conjunto de entradas que controla, los tipos de entradas que necesita para la experiencia y las API específicas a las que llama para obtener esas entradas.</span><span class="sxs-lookup"><span data-stu-id="1b353-204">Each game or application targeting an existing HMD will have a set of inputs that it handles, types of inputs that it needs for the experience, and specific APIs that it calls to get those inputs.</span></span> <span data-ttu-id="1b353-205">Hemos invertido en intentar que sea tan sencillo y sencillo como sea posible para aprovechar las ventajas de las entradas disponibles en Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="1b353-205">We've invested in trying to make it as simple and straightforward as possible to take advantage of the inputs available in Windows Mixed Reality.</span></span>
1. <span data-ttu-id="1b353-206">Lea la **[Guía de portabilidad de entrada para Unity](input-porting-guide-for-unity.md)** para obtener más información sobre cómo Windows Mixed Reality expone entradas y cómo se asigna a lo que la aplicación puede hacer hoy.</span><span class="sxs-lookup"><span data-stu-id="1b353-206">Read through the **[Input porting guide for Unity](input-porting-guide-for-unity.md)** for details of how Windows Mixed Reality exposes input, and how that maps to what your application may do today.</span></span>
2. <span data-ttu-id="1b353-207">Decida si va a usar la API de entrada de SDK entre las plataformas de la de Unity o la API de entrada específica de la MR.</span><span class="sxs-lookup"><span data-stu-id="1b353-207">Choose whether you're going to leverage Unity's cross-VR-SDK input API, or the MR-specific input API.</span></span> <span data-ttu-id="1b353-208">Las API Input. GetButton/Input. GetAxis generales se usan en las aplicaciones de Unity VR hoy en día para [Oculus INPUT](https://docs.unity3d.com/Manual/OculusControllers.html) y [OpenVR INPUT](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span><span class="sxs-lookup"><span data-stu-id="1b353-208">The general Input.GetButton/Input.GetAxis APIs are used by Unity VR apps today for [Oculus input](https://docs.unity3d.com/Manual/OculusControllers.html) and [OpenVR input](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span></span> <span data-ttu-id="1b353-209">Si las aplicaciones ya usan estas API para los controladores de movimiento, esta es la ruta más sencilla; debe volver a asignar botones y ejes en el administrador de entrada.</span><span class="sxs-lookup"><span data-stu-id="1b353-209">If your apps are already using these APIs for motion controllers, this is the easiest path - you should just need to remap buttons and axes in the Input Manager.</span></span>
    * <span data-ttu-id="1b353-210">Puede tener acceso a los datos del controlador de movimiento en Unity mediante las API de entrada. GetButton/Input. GetAxis generales de la unidad de vídeo, o bien las API UnityEngine. XR. WSA..</span><span class="sxs-lookup"><span data-stu-id="1b353-210">You can access motion controller data in Unity using either the general cross-VR-SDK Input.GetButton/Input.GetAxis APIs or the MR-specific UnityEngine.XR.WSA.Input APIs.</span></span> <span data-ttu-id="1b353-211">(anteriormente en el espacio de nombres UnityEngine. XR. WSA. Input en Unity 5,6)</span><span class="sxs-lookup"><span data-stu-id="1b353-211">(previously in the UnityEngine.XR.WSA.Input namespace in Unity 5.6)</span></span>
    * <span data-ttu-id="1b353-212">Vea el [ejemplo del kit de herramientas](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) que combina controladores de mandos y de movimiento.</span><span class="sxs-lookup"><span data-stu-id="1b353-212">See the [example in Toolkit](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) that combines gamepad and motion controllers.</span></span>

### <a name="unity-step-9-performance-testing-and-tuning"></a><span data-ttu-id="1b353-213">Unity paso 9: pruebas de rendimiento y ajuste</span><span class="sxs-lookup"><span data-stu-id="1b353-213">Unity step 9: Performance testing and tuning</span></span>

<span data-ttu-id="1b353-214">Windows Mixed Reality estará disponible en una amplia gama de dispositivos, que abarcan desde equipos de juegos de alta gama, hasta grandes equipos estándar de mercado.</span><span class="sxs-lookup"><span data-stu-id="1b353-214">Windows Mixed Reality will be available on a broad class of devices, ranging from high end gaming PCs, down to broad market mainstream PCs.</span></span> <span data-ttu-id="1b353-215">En función del mercado de destino, hay una diferencia significativa en los presupuestos de proceso y gráficos disponibles para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1b353-215">Depending on what market you're targeting, there's a significant difference in the available compute and graphics budgets for your application.</span></span> <span data-ttu-id="1b353-216">Durante este proceso de migración, es probable que se esté aprovechando un equipo Premium y que haya presupuestos de cálculo y gráficos significativos disponibles para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1b353-216">During this porting exercise, you're likely leveraging a premium PC, and have had significant compute and graphics budgets available to your app.</span></span> <span data-ttu-id="1b353-217">Si quiere que la aplicación esté disponible para un público más amplio, debe probar y generar el perfil de la aplicación en [el hardware representativo que](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)quiere usar como destino.</span><span class="sxs-lookup"><span data-stu-id="1b353-217">If you wish to make your app available to a broader audience, you should test and profile your app on [the representative hardware that you wish to target](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span></span>

<span data-ttu-id="1b353-218">Tanto [Unity](https://docs.unity3d.com/Manual/Profiler.html) como [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) incluyen los generadores de rendimiento y las directrices de publicación de [Microsoft](understanding-performance-for-mixed-reality.md) e [Intel](https://software.intel.com/articles/vr-content-developer-guide) sobre la optimización y la generación de perfiles de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="1b353-218">Both [Unity](https://docs.unity3d.com/Manual/Profiler.html) and [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) include performance profilers, and both [Microsoft](understanding-performance-for-mixed-reality.md) and [Intel](https://software.intel.com/articles/vr-content-developer-guide) publish guidelines on performance profiling and optimization.</span></span> <span data-ttu-id="1b353-219">Hay una explicación exhaustiva del rendimiento disponible al [comprender el rendimiento de la realidad mixta](understanding-performance-for-mixed-reality.md).</span><span class="sxs-lookup"><span data-stu-id="1b353-219">There's an extensive discussion of performance available at [Understanding Performance for Mixed Reality](understanding-performance-for-mixed-reality.md).</span></span> <span data-ttu-id="1b353-220">Además, hay detalles específicos para Unity en [recomendaciones de rendimiento para Unity](performance-recommendations-for-unity.md).</span><span class="sxs-lookup"><span data-stu-id="1b353-220">Further, there are specific details for Unity under [Performance Recommendations for Unity](performance-recommendations-for-unity.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="1b353-221">Consulta también</span><span class="sxs-lookup"><span data-stu-id="1b353-221">See also</span></span>
* [<span data-ttu-id="1b353-222">Guía de portabilidad de entrada para Unity</span><span class="sxs-lookup"><span data-stu-id="1b353-222">Input porting guide for Unity</span></span>](input-porting-guide-for-unity.md)
* [<span data-ttu-id="1b353-223">Instrucciones de compatibilidad de hardware de equipo mínima de Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="1b353-223">Windows Mixed Reality minimum PC hardware compatibility guidelines</span></span>](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)
* [<span data-ttu-id="1b353-224">Descripción del rendimiento de la realidad mixta</span><span class="sxs-lookup"><span data-stu-id="1b353-224">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="1b353-225">Recomendaciones de rendimiento para Unity</span><span class="sxs-lookup"><span data-stu-id="1b353-225">Performance Recommendations for Unity</span></span>](performance-recommendations-for-unity.md)
